const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/SessionStorageAdapter.kGGNcple.js","_astro/StorageAdapter.DFwS-N09.js","_astro/_commonjsHelpers.Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{_ as k}from"./preload-helper.BmH1I9yD.js";document.addEventListener("DOMContentLoaded",async function(){try{let c=function(){l.style.backgroundColor="#1a1a2e",s.style.left="70%",o.style.left="20%",o.style.background="#00FFFF"},y=function(){l.style.backgroundColor="#87CEEB",s.style.left="20%",o.style.left="70%",o.style.background="#FF0000"},g=function(e=!1){n&&n.pause(),n=anime.createTimeline({easing:"easeInOutQuad",onComplete:async function(){await t.set("isNight",!0),e||t.emitDataChange("isNight",!0,"toNight"),i()}}),n.add(l,{backgroundColor:"#1a1a2e"},0).add(s,{left:"70%"},0).add(o,{left:"20%",backgroundColor:"#00FFFF"},0)},r=function(e){n&&n.pause(),n=anime.createTimeline({easing:"easeInOutQuad",onComplete:async function(){await t.set("isNight",!1),e||t.emitDataChange("isNight",!1,"toDay"),i()}}),n.add(l,{backgroundColor:"#87CEEB"},0).add(s,{left:"20%"},0).add(o,{left:"70%",backgroundColor:"#FF0000"},0)};var N=c,S=y,F=g,v=r;await new Promise((e,d)=>{const u=document.createElement("script");u.src="https://cdn.jsdelivr.net/npm/animejs@4.0.1/lib/anime.iife.min.js",u.onload=e,u.onerror=d,document.head.appendChild(u)});const p=(await k(()=>import("./SessionStorageAdapter.kGGNcple.js"),__vite__mapDeps([0,1,2]))).default,t=new p({dbName:"animation-demo-SS",expireCheckInterval:0,channelName:"chase-channel"}),s=document.querySelector(".pacman"),o=document.querySelector(".ghost"),l=document.querySelector(".sky"),f=document.getElementById("toggle-cycle"),h=document.getElementById("reset-cycle"),m=document.getElementById("toggle-encrypt"),C=document.getElementById("storage-content");let a=!1,n=null;async function i(){const e=await t.list();C.textContent=JSON.stringify(e,null,2)}async function E(){const e=await t.get("isNight");e!==null&&(a=e,a?c():y()),i()}f.addEventListener("click",function(){a=!a,a?g():r()}),h.addEventListener("click",async function(){await t.clear(),a=!1,r(),i()}),m.addEventListener("click",async function(){h.click(),t.encrypt?(m.textContent="Turn Encryption ON",t.encrypt=!1):(m.textContent="Turn Encryption OFF",t.encrypt=!0),f.click()}),E(),t.onDataChanged(async e=>{try{if(e.origin==="reset"){await t.clear(),i();return}await t.set("isNight",e.value),a=e.value,e.value?g(!0):r(!0)}catch(d){throw console.error("Error handling data change:",d),d}})}catch(c){console.error("Error initializing demo:",c)}});
