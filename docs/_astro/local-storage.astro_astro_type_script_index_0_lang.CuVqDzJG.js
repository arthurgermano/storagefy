const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/LocalStorageAdapter.Wwk71CO9.js","_astro/StorageAdapter.DFwS-N09.js","_astro/_commonjsHelpers.Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{_ as D}from"./preload-helper.BmH1I9yD.js";document.addEventListener("DOMContentLoaded",async function(){try{let o=function(){r.style.backgroundColor="#0c1445",c.style.transform="translateY(200px)",s.style.transform="translateY(-80px)",d.style.opacity="1",l.style.opacity="0.3"},u=function(){r.style.backgroundColor="#87CEEB",c.style.transform="translateY(-80px)",s.style.transform="translateY(200px)",d.style.opacity="0",l.style.opacity="1"},f=function(){a&&a.pause(),a=anime.createTimeline({easing:"easeInOutQuad",onComplete:async function(){await t.set("isNight",!0),t.emitDataChange("isNight",!0,"toNight"),i()}}),a.add(r,{backgroundColor:"#0c1445"},0).add(c,{y:200},0).add(s,{y:-80},0).add(d,{opacity:1},0).add(l,{opacity:.3},0)},m=function(){a&&a.pause(),a=anime.createTimeline({easing:"easeInOutQuad",onComplete:async function(){await t.set("isNight",!1),t.emitDataChange("isNight",!0,"toDay"),i()}}),a.add(r,{backgroundColor:"#87CEEB"},0).add(c,{y:-80},0).add(s,{y:200},0).add(d,{opacity:0},0).add(l,{opacity:1},0)};var k=o,v=u,w=f,B=m;await new Promise((e,p)=>{const y=document.createElement("script");y.src="https://cdn.jsdelivr.net/npm/animejs@4.0.1/lib/anime.iife.min.js",y.onload=e,y.onerror=p,document.head.appendChild(y)});const N=(await D(()=>import("./LocalStorageAdapter.Wwk71CO9.js"),__vite__mapDeps([0,1,2]))).default,t=new N({dbName:"animation-demo-LS",expireCheckInterval:0,channelName:"day-night-channel"}),c=document.querySelector(".sun"),s=document.querySelector(".moon"),r=document.querySelector(".sky"),d=document.querySelector(".stars"),l=document.querySelector(".clouds"),h=document.getElementById("toggle-cycle"),C=document.getElementById("reset-cycle"),g=document.getElementById("toggle-encrypt"),S=document.getElementById("storage-content");let n=!1,a=null;async function i(){const e=await t.list();S.textContent=JSON.stringify(e,null,2)}async function E(){const e=await t.get("isNight");e!==null&&(n=e,n?o():u()),i()}h.addEventListener("click",function(){n=!n,n?f():m()}),C.addEventListener("click",async function(){await t.clear(),n=!1,m(),i()}),g.addEventListener("click",async function(){C.click(),t.encrypt?(g.textContent="Turn Encryption ON",t.encrypt=!1):(g.textContent="Turn Encryption OFF",t.encrypt=!0),h.click()}),t.onDataChanged(async({key:e,value:p})=>{e==="isNight"&&(n=p,n?o():u(),i())}),E(),t.onDataChanged(async e=>{E()})}catch(o){console.error("Error initializing demo:",o)}});
