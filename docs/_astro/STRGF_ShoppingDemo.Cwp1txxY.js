import{c as b,d as k}from"./pinia.Cu2Pq-U4.js";import{D as C,l as I}from"./index.DjVjF0SW.js";import{_ as M}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as n,a as x,b as t,F as u,r as _,d as p,o as f,e as a,t as l}from"./runtime-core.esm-bundler.CumKEaZd.js";import"./_commonjsHelpers.Cpj98o6Y.js";let S=null,m=null;function F(){S=new C({dbName:"storagefy_vue_test",storeName:"storagefy_vue_test_db",description:"Storagefy Vue database",adapter:"localStorage",channelName:"storagefy_vue_test_channel",version:1,encrypt:!1,enableSyncTabs:!0}),m=new I({adapter:S,fresh:!0})}F();const N=k("Vue_CartStore_App",{state:()=>({items:[]}),actions:{addItem(o){const e=this.items.find(c=>c.id===o.id);e?e.qty++:this.items.push({...o,qty:1})},removeItem(o){this.items=this.items.filter(e=>e.id!==o)},clear(){this.items=[]}}}),D=b(),i=N(D);let y=!1;async function h(){try{return y||(await m.getFromStorage(i,i.$id),await m.setInStorage(i,i.$id,{syncTabs:!0}),y=!0),{cartStore:i,loadStores:h}}catch(o){console.error(o)}}h();const w={__name:"STRGF_ShoppingDemo",setup(o,{expose:e}){e();const c=p(!1),s=[{id:1,name:"Wireless Mouse",price:29.99},{id:2,name:"Mechanical Keyboard",price:79.99},{id:3,name:"USB-C Hub",price:49.99},{id:4,name:"Monitor Stand",price:39.99}];f(async()=>{c.value=!0});const d={isMounted:c,shopItems:s,onMounted:f,ref:p,get cartStore(){return i}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},A={key:0,class:"shop-demo"},B={class:"store"},R={class:"items"},T=["onClick"],V={class:"cart"},q={key:0},P=["onClick"],$={key:1};function G(o,e,c,s,d,v){return s.isMounted?(a(),n("section",A,[e[3]||(e[3]=t("h2",null,"🛍️ Mini Shop Demo",-1)),t("div",B,[t("div",R,[e[1]||(e[1]=t("h3",null,"🛒 Items",-1)),(a(),n(u,null,_(s.shopItems,r=>t("div",{key:r.id,class:"item"},[t("span",null,l(r.name)+" — $"+l(r.price.toFixed(2)),1),t("button",{onClick:g=>s.cartStore.addItem(r)},"Add",8,T)])),64))]),t("div",V,[e[2]||(e[2]=t("h3",null,"🧺 Cart",-1)),s.cartStore.items.length?(a(),n("div",q,[(a(!0),n(u,null,_(s.cartStore.items,r=>(a(),n("div",{key:r.id,class:"item"},[t("span",null,l(r.name)+" × "+l(r.qty),1),t("button",{onClick:g=>s.cartStore.removeItem(r.id)},"Remove",8,P)]))),128)),t("button",{class:"clear",onClick:e[0]||(e[0]=r=>s.cartStore.clear())},"Clear Cart")])):(a(),n("div",$,"No items in cart"))])])])):x("",!0)}const O=M(w,[["render",G]]);export{O as default};
