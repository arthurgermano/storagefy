import{e as $e,b as be,h as T,a as me,E as Me,H as Re,c as he,r as X,s as Z,d as B,f as z,g as P,p as J,U as ke,i as H,j as S,k as ge,l as Ce,m as ye,n as ne,I as K,o as Se,q as re,t as De,u as qe,v as He,w as Le,x as Ue,y as Fe,z as Oe,A as Be,B as Ve,C as Ye,D as x,F as xe,G as Q,J as ae,K as te,L as ze,M as Pe,N as Ge,O as Ke,P as L,Q as We,R as Xe,S as Ze,T as Je,V as Qe,W as je,X as se,Y as D,Z as et,_ as V,$ as k,a0 as w,a1 as N,a2 as ie,a3 as W,a4 as le}from"./render.EP_xMqk-.js";import{d as oe}from"./index.DV2-wvx-.js";import"./generateSimpleId.DxAnr5Wo.js";import"./sleep.CSud_7jI.js";const tt="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(tt);$e();function nt(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function fe(n,e,[t,r]=[0,0]){T&&t===0&&me();var l=n,a=null,o=null,c=ke,d=t>0?Me:0,f=!1;const s=(u,_=!0)=>{f=!0,p(_,u)},p=(u,_)=>{if(c===(c=u))return;let i=!1;if(T&&r!==-1){if(t===0){const m=l.data;m===Re?r=0:m===he?r=1/0:(r=parseInt(m.substring(1)),r!==r&&(r=c?1/0:-1))}const b=r>t;!!c===b&&(l=X(),Z(l),B(!1),i=!0,r=-1)}c?(a?z(a):_&&(a=P(()=>_(l))),o&&J(o,()=>{o=null})):(o?z(o):_&&(o=P(()=>_(l,[t+1,r]))),a&&J(a,()=>{a=null})),i&&B(!0)};be(()=>{f=!1,e(s),f||p(null,null)},d),T&&(l=H)}function rt(n,e,t,r){for(var l=[],a=e.length,o=0;o<a;o++)He(e[o].e,l,!0);var c=a>0&&l.length===0&&t!==null;if(c){var d=t.parentNode;Le(d),d.append(t),r.clear(),$(n,e[0].prev,e[a-1].next)}Ue(l,()=>{for(var f=0;f<a;f++){var s=e[f];c||(r.delete(s.k),$(n,s.prev,s.next)),Fe(s.e,!c)}})}function ue(n,e,t,r,l,a=null){var o=n,c={flags:e,items:new Map,first:null};T&&me();var d=null,f=!1,s=ge(()=>{var p=t();return Ve(p)?p:p==null?[]:Se(p)});be(()=>{var p=S(s),u=p.length;if(f&&u===0)return;f=u===0;let _=!1;if(T){var i=o.data===he;i!==(u===0)&&(o=X(),Z(o),B(!1),_=!0)}if(T){for(var b=null,m,v=0;v<u;v++){if(H.nodeType===8&&H.data===Ce){o=H,_=!0,B(!1);break}var g=p[v],M=r(g,v);m=Ie(H,c,b,null,g,M,v,l,e,t),c.items.set(M,m),b=m}u>0&&Z(X())}T||at(p,c,o,l,e,r,t),a!==null&&(u===0?d?z(d):d=P(()=>a(o)):d!==null&&J(d,()=>{d=null})),_&&B(!0),S(s)}),T&&(o=H)}function at(n,e,t,r,l,a,o){var c=n.length,d=e.items,f=e.first,s=f,p,u=null,_=[],i=[],b,m,v,g;for(g=0;g<c;g+=1){if(b=n[g],m=a(b,g),v=d.get(m),v===void 0){var M=s?s.e.nodes_start:t;u=Ie(M,e,u,u===null?e.first:u.next,b,m,g,r,l,o),d.set(m,u),_=[],i=[],s=u.next;continue}if(st(v,b,g),(v.e.f&K)!==0&&z(v.e),v!==s){if(p!==void 0&&p.has(v)){if(_.length<i.length){var C=i[0],I;u=C.prev;var Y=_[0],h=_[_.length-1];for(I=0;I<_.length;I+=1)ce(_[I],C,t);for(I=0;I<i.length;I+=1)p.delete(i[I]);$(e,Y.prev,h.next),$(e,u,Y),$(e,h,C),s=C,u=h,g-=1,_=[],i=[]}else p.delete(v),ce(v,s,t),$(e,v.prev,v.next),$(e,v,u===null?e.first:u.next),$(e,u,v),u=v;continue}for(_=[],i=[];s!==null&&s.k!==m;)(s.e.f&K)===0&&(p??=new Set).add(s),i.push(s),s=s.next;if(s===null)continue;v=s}_.push(v),u=v,s=v.next}if(s!==null||p!==void 0){for(var y=p===void 0?[]:Se(p);s!==null;)(s.e.f&K)===0&&y.push(s),s=s.next;var A=y.length;if(A>0){var R=null;rt(e,y,R,d)}}re.first=e.first&&e.first.e,re.last=u&&u.e}function st(n,e,t,r){qe(n.v,e),n.i=t}function Ie(n,e,t,r,l,a,o,c,d,f){var s=(d&Oe)!==0,p=(d&Be)===0,u=s?p?ye(l):ne(l):l,_=(d&De)===0?o:ne(o),i={i:_,v:u,k:a,a:null,e:null,prev:t,next:r};try{return i.e=P(()=>c(n,u,_,f),T),i.e.prev=t&&t.e,i.e.next=r&&r.e,t===null?e.first=i:(t.next=i,t.e.next=i.e),r!==null&&(r.prev=i,r.e.prev=i.e),i}finally{}}function ce(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,l=e?e.e.nodes_start:t,a=n.e.nodes_start;a!==r;){var o=Ye(a);l.before(a),a=o}}function $(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function it(n=!1){const e=x,t=e.l.u;if(!t)return;let r=()=>Pe(e.s);if(n){let l=0,a={};const o=Ge(()=>{let c=!1;const d=e.s;for(const f in d)d[f]!==a[f]&&(a[f]=d[f],c=!0);return c&&l++,l});r=()=>S(o)}t.b.length&&xe(()=>{ve(e,r),ae(t.b)}),Q(()=>{const l=te(()=>t.m.map(ze));return()=>{for(const a of l)typeof a=="function"&&a()}}),t.a.length&&Q(()=>{ve(e,r),ae(t.a)})}function ve(n,e){if(n.l.s)for(const t of n.l.s)S(t);e()}function lt(n){x===null&&nt(),Ke&&x.l!==null?ot(x).m.push(n):Q(()=>{const e=te(n);if(typeof e=="function")return e})}function ot(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}function Ee(n,e,t){if(n==null)return e(void 0),L;const r=te(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const q=[];function Te(n,e=L){let t=null;const r=new Set;function l(c){if(We(n,c)&&(n=c,t)){const d=!q.length;for(const f of r)f[1](),q.push(f,n);if(d){for(let f=0;f<q.length;f+=2)q[f][0](q[f+1]);q.length=0}}}function a(c){l(c(n))}function o(c,d=L){const f=[c,d];return r.add(f),r.size===1&&(t=e(l,a)||L),c(n),()=>{r.delete(f),r.size===0&&t&&(t(),t=null)}}return{set:l,update:a,subscribe:o}}function ft(n){let e;return Ee(n,t=>e=t)(),e}let j=Symbol();function de(n,e,t){const r=t[e]??={store:null,source:ye(void 0),unsubscribe:L};if(r.store!==n&&!(j in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=L;else{var l=!0;r.unsubscribe=Ee(n,a=>{l?r.source.v=a:Je(r.source,a)}),l=!1}return n&&j in t?ft(n):S(r.source)}function ut(){const n={};function e(){Xe(()=>{for(var t in n)n[t].unsubscribe();Ze(n,j,{enumerable:!1,value:!0})})}return[n,e]}let _e=null,ee=null;function ct(){_e=new oe.LocalStorageAdapter({dbName:"storagefy_svelte_test",storeName:"storagefy_svelte_test_db",description:"Storagefy Svelte database",adapter:"localStorage",channelName:"storagefy_svelte_test_channel",version:1,encrypt:!1,enableSyncTabs:!0}),ee=new oe.getSvelteAdapter({adapter:_e,fresh:!0})}ct();const E=Te({items:[]});E.$id="Svelte_CartStore_App";let pe=!1;async function Ae(){try{return pe||(await ee.getFromStorage(E,E.$id),await ee.setInStorage(E,E.$id,{syncTabs:!0}),pe=!0),{cartStore:E,loadStores:Ae}}catch(n){console.error(n)}}Ae();var vt=V('<div class="item"><span> </span> <button>Add</button></div>'),dt=V('<div class="item"><span> </span> <button>Remove</button></div>'),_t=V('<!> <button class="clear">Clear Cart</button>',1),pt=V("<div>No items in cart</div>"),bt=V('<section class="shop-demo"><h2>üõçÔ∏è Mini Shop Demo</h2> <div class="store"><div class="items"><h3>üõí Items</h3> <!></div> <div class="cart"><h3>üß∫ Cart</h3> <!></div></div></section>');function St(n,e){Qe(e,!1);const[t,r]=ut(),l=()=>de(o,"$isMounted",t),a=()=>de(E,"$cartStore",t),o=Te(!1),c=[{id:1,name:"Wireless Mouse",price:29.99},{id:2,name:"Mechanical Keyboard",price:79.99},{id:3,name:"USB-C Hub",price:49.99},{id:4,name:"Monitor Stand",price:39.99}],d=i=>{E.update(b=>{const m=b.items.find(v=>v.id===i.id);return m?m.qty++:b.items.push({...i,qty:1}),b})},f=i=>{E.update(b=>(b.items=b.items.filter(m=>m.id!==i),b))},s=()=>{E.update(i=>(i.items=[],i))};lt(async()=>{o.set(!0)}),it();var p=je(),u=se(p);{var _=i=>{var b=bt(),m=k(w(b),2),v=w(m),g=k(w(v),2);ue(g,1,()=>c,h=>h.id,(h,y)=>{var A=vt(),R=w(A),U=w(R);N(R);var F=k(R,2);N(A),ie(O=>le(U,`${S(y).name??""} ‚Äî $${O??""}`),[()=>S(y).price.toFixed(2)],ge),W("click",F,()=>d(S(y))),D(h,A)}),N(v);var M=k(v,2),C=k(w(M),2);{var I=h=>{var y=_t(),A=se(y);ue(A,1,()=>a().items,U=>U.id,(U,F)=>{var O=dt(),G=w(O),we=w(G);N(G);var Ne=k(G,2);N(O),ie(()=>le(we,`${S(F).name??""} √ó ${S(F).qty??""}`)),W("click",Ne,()=>f(S(F).id)),D(U,O)});var R=k(A,2);W("click",R,s),D(h,y)},Y=h=>{var y=pt();D(h,y)};fe(C,h=>{a()?.items?.length?h(I):h(Y,!1)})}N(M),N(m),N(b),D(i,b)};fe(u,i=>{l()&&i(_)})}D(n,p),et(),r()}export{St as default};
