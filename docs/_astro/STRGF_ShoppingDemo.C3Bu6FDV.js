import{c as b,d as k}from"./pinia.Cu2Pq-U4.js";import{b as C}from"./index.C9-tAn_6.js";import I from"./LocalStorageAdapter.DbWFQp1Z.js";import{_ as M}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as a,a as x,b as t,F as p,r as u,d as _,o as f,e as n,t as d}from"./runtime-core.esm-bundler.CumKEaZd.js";import"./IndexedDBAdapter.JOio7YFv.js";import"./StorageAdapter.-Hf96jOd.js";import"./generateSimpleId.1pzoLIeQ.js";import"./sleep.B0B6IrN2.js";import"./SessionStorageAdapter.CH8sEP9e.js";import"./ReactAdapter.DGmXLvKE.js";import"./assign.MzTrJBn8.js";let S=null,m=null;function A(){S=new I({dbName:"storagefy_vue_test",storeName:"storagefy_vue_test_db",description:"Storagefy Vue database",adapter:"localStorage",channelName:"storagefy_vue_test_channel",version:1,encrypt:!1,enableSyncTabs:!0}),m=new C({adapter:S,fresh:!0})}A();const F=k("Vue_CartStore_App",{state:()=>({items:[]}),actions:{addItem(s){const e=this.items.find(c=>c.id===s.id);e?e.qty++:this.items.push({...s,qty:1})},removeItem(s){this.items=this.items.filter(e=>e.id!==s)},clear(){this.items=[]}}}),N=b(),i=F(N);let y=!1;async function h(){try{return y||(await m.getFromStorage(i,i.$id),await m.setInStorage(i,i.$id,{syncTabs:!0}),y=!0),{cartStore:i,loadStores:h}}catch(s){console.error(s)}}h();const w={__name:"STRGF_ShoppingDemo",setup(s,{expose:e}){e();const c=_(!1),o=[{id:1,name:"Wireless Mouse",price:29.99},{id:2,name:"Mechanical Keyboard",price:79.99},{id:3,name:"USB-C Hub",price:49.99},{id:4,name:"Monitor Stand",price:39.99}];f(async()=>{c.value=!0});const l={isMounted:c,shopItems:o,onMounted:f,ref:_,get cartStore(){return i}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}},B={key:0,class:"shop-demo"},D={class:"store"},P={class:"items"},R=["onClick"],T={class:"cart"},V={key:0},q=["onClick"],L={key:1};function $(s,e,c,o,l,v){return o.isMounted?(n(),a("section",B,[e[3]||(e[3]=t("h2",null,"ðŸ›ï¸ Mini Shop Demo",-1)),t("div",D,[t("div",P,[e[1]||(e[1]=t("h3",null,"ðŸ›’ Items",-1)),(n(),a(p,null,u(o.shopItems,r=>t("div",{key:r.id,class:"item"},[t("span",null,d(r.name)+" â€” $"+d(r.price.toFixed(2)),1),t("button",{onClick:g=>o.cartStore.addItem(r)},"Add",8,R)])),64))]),t("div",T,[e[2]||(e[2]=t("h3",null,"ðŸ§º Cart",-1)),o.cartStore.items.length?(n(),a("div",V,[(n(!0),a(p,null,u(o.cartStore.items,r=>(n(),a("div",{key:r.id,class:"item"},[t("span",null,d(r.name)+" Ã— "+d(r.qty),1),t("button",{onClick:g=>o.cartStore.removeItem(r.id)},"Remove",8,q)]))),128)),t("button",{class:"clear",onClick:e[0]||(e[0]=r=>o.cartStore.clear())},"Clear Cart")])):(n(),a("div",L,"No items in cart"))])])])):x("",!0)}const Y=M(w,[["render",$]]);export{Y as default};
