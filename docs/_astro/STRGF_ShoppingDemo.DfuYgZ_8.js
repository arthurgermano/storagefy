import{c as k,d as C}from"./pinia.Cu2Pq-U4.js";import{d as p}from"./index.DV2-wvx-.js";import{_ as I}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as a,a as x,b as t,F as u,r as _,d as f,o as S,e as n,t as d}from"./runtime-core.esm-bundler.CumKEaZd.js";import"./generateSimpleId.DxAnr5Wo.js";import"./sleep.CSud_7jI.js";let y=null,m=null;function M(){y=new p.LocalStorageAdapter({dbName:"storagefy_vue_test",storeName:"storagefy_vue_test_db",description:"Storagefy Vue database",adapter:"localStorage",channelName:"storagefy_vue_test_channel",version:1,encrypt:!1,enableSyncTabs:!0}),m=new p.getPiniaAdapter({adapter:y,fresh:!0})}M();const A=C("Vue_CartStore_App",{state:()=>({items:[]}),actions:{addItem(s){const e=this.items.find(c=>c.id===s.id);e?e.qty++:this.items.push({...s,qty:1})},removeItem(s){this.items=this.items.filter(e=>e.id!==s)},clear(){this.items=[]}}}),F=k(),i=A(F);let h=!1;async function v(){try{return h||(await m.getFromStorage(i,i.$id),await m.setInStorage(i,i.$id,{syncTabs:!0}),h=!0),{cartStore:i,loadStores:v}}catch(s){console.error(s)}}v();const N={__name:"STRGF_ShoppingDemo",setup(s,{expose:e}){e();const c=f(!1),o=[{id:1,name:"Wireless Mouse",price:29.99},{id:2,name:"Mechanical Keyboard",price:79.99},{id:3,name:"USB-C Hub",price:49.99},{id:4,name:"Monitor Stand",price:39.99}];S(async()=>{c.value=!0});const l={isMounted:c,shopItems:o,onMounted:S,ref:f,get cartStore(){return i}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}},w={key:0,class:"shop-demo"},B={class:"store"},D={class:"items"},P=["onClick"],R={class:"cart"},T={key:0},V=["onClick"],q={key:1};function L(s,e,c,o,l,g){return o.isMounted?(n(),a("section",w,[e[3]||(e[3]=t("h2",null,"🛍️ Mini Shop Demo",-1)),t("div",B,[t("div",D,[e[1]||(e[1]=t("h3",null,"🛒 Items",-1)),(n(),a(u,null,_(o.shopItems,r=>t("div",{key:r.id,class:"item"},[t("span",null,d(r.name)+" — $"+d(r.price.toFixed(2)),1),t("button",{onClick:b=>o.cartStore.addItem(r)},"Add",8,P)])),64))]),t("div",R,[e[2]||(e[2]=t("h3",null,"🧺 Cart",-1)),o.cartStore.items.length?(n(),a("div",T,[(n(!0),a(u,null,_(o.cartStore.items,r=>(n(),a("div",{key:r.id,class:"item"},[t("span",null,d(r.name)+" × "+d(r.qty),1),t("button",{onClick:b=>o.cartStore.removeItem(r.id)},"Remove",8,V)]))),128)),t("button",{class:"clear",onClick:e[0]||(e[0]=r=>o.cartStore.clear())},"Clear Cart")])):(n(),a("div",q,"No items in cart"))])])])):x("",!0)}const O=I(N,[["render",L]]);export{O as default};
