import{e as Ne,b as pe,h as T,a as be,E as $e,H as Me,c as he,r as X,s as Z,d as B,f as P,g as x,p as J,U as Re,i as H,j as S,k as me,l as ke,m as ge,n as te,I as K,o as ye,q as re,t as Ce,u as De,v as qe,w as He,x as Ue,y as Fe,z as Le,A as Oe,B as Be,C as Ve,D as z,F as Ye,G as Q,J as ae,K as ne,L as ze,M as Pe,N as xe,O as Ge,P as U,Q as Ke,R as We,S as Xe,T as Ze,V as Je,W as Qe,X as se,Y as D,Z as je,_ as V,$ as k,a0 as A,a1 as N,a2 as ie,a3 as W,a4 as le}from"./render.EP_xMqk-.js";import{D as en,d as nn}from"./index.DjVjF0SW.js";import"./_commonjsHelpers.Cpj98o6Y.js";const tn="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(tn);Ne();function rn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function oe(t,e,[n,r]=[0,0]){T&&n===0&&be();var l=t,a=null,o=null,c=Re,d=n>0?$e:0,f=!1;const s=(u,_=!0)=>{f=!0,p(_,u)},p=(u,_)=>{if(c===(c=u))return;let i=!1;if(T&&r!==-1){if(n===0){const h=l.data;h===Me?r=0:h===he?r=1/0:(r=parseInt(h.substring(1)),r!==r&&(r=c?1/0:-1))}const b=r>n;!!c===b&&(l=X(),Z(l),B(!1),i=!0,r=-1)}c?(a?P(a):_&&(a=x(()=>_(l))),o&&J(o,()=>{o=null})):(o?P(o):_&&(o=x(()=>_(l,[n+1,r]))),a&&J(a,()=>{a=null})),i&&B(!0)};pe(()=>{f=!1,e(s),f||p(null,null)},d),T&&(l=H)}function an(t,e,n,r){for(var l=[],a=e.length,o=0;o<a;o++)qe(e[o].e,l,!0);var c=a>0&&l.length===0&&n!==null;if(c){var d=n.parentNode;He(d),d.append(n),r.clear(),$(t,e[0].prev,e[a-1].next)}Ue(l,()=>{for(var f=0;f<a;f++){var s=e[f];c||(r.delete(s.k),$(t,s.prev,s.next)),Fe(s.e,!c)}})}function fe(t,e,n,r,l,a=null){var o=t,c={flags:e,items:new Map,first:null};T&&be();var d=null,f=!1,s=me(()=>{var p=n();return Be(p)?p:p==null?[]:ye(p)});pe(()=>{var p=S(s),u=p.length;if(f&&u===0)return;f=u===0;let _=!1;if(T){var i=o.data===he;i!==(u===0)&&(o=X(),Z(o),B(!1),_=!0)}if(T){for(var b=null,h,v=0;v<u;v++){if(H.nodeType===8&&H.data===ke){o=H,_=!0,B(!1);break}var g=p[v],M=r(g,v);h=Se(H,c,b,null,g,M,v,l,e,n),c.items.set(M,h),b=h}u>0&&Z(X())}T||sn(p,c,o,l,e,r,n),a!==null&&(u===0?d?P(d):d=x(()=>a(o)):d!==null&&J(d,()=>{d=null})),_&&B(!0),S(s)}),T&&(o=H)}function sn(t,e,n,r,l,a,o){var c=t.length,d=e.items,f=e.first,s=f,p,u=null,_=[],i=[],b,h,v,g;for(g=0;g<c;g+=1){if(b=t[g],h=a(b,g),v=d.get(h),v===void 0){var M=s?s.e.nodes_start:n;u=Se(M,e,u,u===null?e.first:u.next,b,h,g,r,l,o),d.set(h,u),_=[],i=[],s=u.next;continue}if(ln(v,b,g),(v.e.f&K)!==0&&P(v.e),v!==s){if(p!==void 0&&p.has(v)){if(_.length<i.length){var C=i[0],I;u=C.prev;var Y=_[0],m=_[_.length-1];for(I=0;I<_.length;I+=1)ue(_[I],C,n);for(I=0;I<i.length;I+=1)p.delete(i[I]);$(e,Y.prev,m.next),$(e,u,Y),$(e,m,C),s=C,u=m,g-=1,_=[],i=[]}else p.delete(v),ue(v,s,n),$(e,v.prev,v.next),$(e,v,u===null?e.first:u.next),$(e,u,v),u=v;continue}for(_=[],i=[];s!==null&&s.k!==h;)(s.e.f&K)===0&&(p??=new Set).add(s),i.push(s),s=s.next;if(s===null)continue;v=s}_.push(v),u=v,s=v.next}if(s!==null||p!==void 0){for(var y=p===void 0?[]:ye(p);s!==null;)(s.e.f&K)===0&&y.push(s),s=s.next;var w=y.length;if(w>0){var R=null;an(e,y,R,d)}}re.first=e.first&&e.first.e,re.last=u&&u.e}function ln(t,e,n,r){De(t.v,e),t.i=n}function Se(t,e,n,r,l,a,o,c,d,f){var s=(d&Le)!==0,p=(d&Oe)===0,u=s?p?ge(l):te(l):l,_=(d&Ce)===0?o:te(o),i={i:_,v:u,k:a,a:null,e:null,prev:n,next:r};try{return i.e=x(()=>c(t,u,_,f),T),i.e.prev=n&&n.e,i.e.next=r&&r.e,n===null?e.first=i:(n.next=i,n.e.next=i.e),r!==null&&(r.prev=i,r.e.prev=i.e),i}finally{}}function ue(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,l=e?e.e.nodes_start:n,a=t.e.nodes_start;a!==r;){var o=Ve(a);l.before(a),a=o}}function $(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function on(t=!1){const e=z,n=e.l.u;if(!n)return;let r=()=>Pe(e.s);if(t){let l=0,a={};const o=xe(()=>{let c=!1;const d=e.s;for(const f in d)d[f]!==a[f]&&(a[f]=d[f],c=!0);return c&&l++,l});r=()=>S(o)}n.b.length&&Ye(()=>{ce(e,r),ae(n.b)}),Q(()=>{const l=ne(()=>n.m.map(ze));return()=>{for(const a of l)typeof a=="function"&&a()}}),n.a.length&&Q(()=>{ce(e,r),ae(n.a)})}function ce(t,e){if(t.l.s)for(const n of t.l.s)S(n);e()}function fn(t){z===null&&rn(),Ge&&z.l!==null?un(z).m.push(t):Q(()=>{const e=ne(t);if(typeof e=="function")return e})}function un(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}function Ie(t,e,n){if(t==null)return e(void 0),U;const r=ne(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const q=[];function Ee(t,e=U){let n=null;const r=new Set;function l(c){if(Ke(t,c)&&(t=c,n)){const d=!q.length;for(const f of r)f[1](),q.push(f,t);if(d){for(let f=0;f<q.length;f+=2)q[f][0](q[f+1]);q.length=0}}}function a(c){l(c(t))}function o(c,d=U){const f=[c,d];return r.add(f),r.size===1&&(n=e(l,a)||U),c(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:l,update:a,subscribe:o}}function cn(t){let e;return Ie(t,n=>e=n)(),e}let j=Symbol();function ve(t,e,n){const r=n[e]??={store:null,source:ge(void 0),unsubscribe:U};if(r.store!==t&&!(j in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=U;else{var l=!0;r.unsubscribe=Ie(t,a=>{l?r.source.v=a:Ze(r.source,a)}),l=!1}return t&&j in n?cn(t):S(r.source)}function vn(){const t={};function e(){We(()=>{for(var n in t)t[n].unsubscribe();Xe(t,j,{enumerable:!1,value:!0})})}return[t,e]}let de=null,ee=null;function dn(){de=new en({dbName:"storagefy_svelte_test",storeName:"storagefy_svelte_test_db",description:"Storagefy Svelte database",adapter:"localStorage",channelName:"storagefy_svelte_test_channel",version:1,encrypt:!1,enableSyncTabs:!0}),ee=new nn({adapter:de,fresh:!0})}dn();const E=Ee({items:[]});E.$id="Svelte_CartStore_App";let _e=!1;async function Te(){try{return _e||(await ee.getFromStorage(E,E.$id),await ee.setInStorage(E,E.$id,{syncTabs:!0}),_e=!0),{cartStore:E,loadStores:Te}}catch(t){console.error(t)}}Te();var _n=V('<div class="item"><span> </span> <button>Add</button></div>'),pn=V('<div class="item"><span> </span> <button>Remove</button></div>'),bn=V('<!> <button class="clear">Clear Cart</button>',1),hn=V("<div>No items in cart</div>"),mn=V('<section class="shop-demo"><h2>üõçÔ∏è Mini Shop Demo</h2> <div class="store"><div class="items"><h3>üõí Items</h3> <!></div> <div class="cart"><h3>üß∫ Cart</h3> <!></div></div></section>');function In(t,e){Je(e,!1);const[n,r]=vn(),l=()=>ve(o,"$isMounted",n),a=()=>ve(E,"$cartStore",n),o=Ee(!1),c=[{id:1,name:"Wireless Mouse",price:29.99},{id:2,name:"Mechanical Keyboard",price:79.99},{id:3,name:"USB-C Hub",price:49.99},{id:4,name:"Monitor Stand",price:39.99}],d=i=>{E.update(b=>{const h=b.items.find(v=>v.id===i.id);return h?h.qty++:b.items.push({...i,qty:1}),b})},f=i=>{E.update(b=>(b.items=b.items.filter(h=>h.id!==i),b))},s=()=>{E.update(i=>(i.items=[],i))};fn(async()=>{o.set(!0)}),on();var p=Qe(),u=se(p);{var _=i=>{var b=mn(),h=k(A(b),2),v=A(h),g=k(A(v),2);fe(g,1,()=>c,m=>m.id,(m,y)=>{var w=_n(),R=A(w),F=A(R);N(R);var L=k(R,2);N(w),ie(O=>le(F,`${S(y).name??""} ‚Äî $${O??""}`),[()=>S(y).price.toFixed(2)],me),W("click",L,()=>d(S(y))),D(m,w)}),N(v);var M=k(v,2),C=k(A(M),2);{var I=m=>{var y=bn(),w=se(y);fe(w,1,()=>a().items,F=>F.id,(F,L)=>{var O=pn(),G=A(O),we=A(G);N(G);var Ae=k(G,2);N(O),ie(()=>le(we,`${S(L).name??""} √ó ${S(L).qty??""}`)),W("click",Ae,()=>f(S(L).id)),D(F,O)});var R=k(w,2);W("click",R,s),D(m,y)},Y=m=>{var y=hn();D(m,y)};oe(C,m=>{a()?.items?.length?m(I):m(Y,!1)})}N(M),N(h),N(b),D(i,b)};oe(u,i=>{l()&&i(_)})}D(t,p),je(),r()}export{In as default};
