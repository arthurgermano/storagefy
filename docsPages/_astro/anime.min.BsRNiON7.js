/**
 * anime.js - ESM
 * @version v4.0.0
 * @author Julian Garnier
 * @license MIT
 * @copyright (c) 2025 Julian Garnier
 * @see https://animejs.com
 */const zt=typeof window<"u",_t=zt?window:null,N=zt?document:null,Je=0,De=1,vs=2,te=3,bs=4,Pe=0,wt=1,Zt=2,Jt=3,xi=0,xe=1,ye=2,lt={replace:0,none:1,blend:2},As=Symbol(),ts=Symbol(),Ss=Symbol(),Ye=Symbol(),Ns=Symbol(),ti=Symbol(),q=1e-11,me=1e12,it=1e3,Ut="",ve=new Map;ve.set("x","translateX"),ve.set("y","translateY"),ve.set("z","translateZ");const Le=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Ts=Le.reduce((s,t)=>({...s,[t]:t+"("}),{}),R=()=>{},wi=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,ki=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,$i=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,Ei=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,Ci=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,Fs=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,ei=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,Bi=/([a-z])([A-Z])/g,Di=/(\w+)(\([^)]+\)+)/g,si=/(\*=|\+=|-=)/,ii={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:120,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:it,delay:0,loopDelay:0,ease:"out(2)",composition:lt.replace,modifier:s=>s,onBegin:R,onBeforeUpdate:R,onUpdate:R,onLoop:R,onPause:R,onComplete:R,onRender:R},w={defaults:ii,root:N,scope:null,precision:4,timeScale:1,tickThreshold:200},ri={version:"4.0.0",engine:null};zt&&(_t.AnimeJS||(_t.AnimeJS=[]),_t.AnimeJS.push(ri));const ni=s=>s.replace(Bi,"$1-$2").toLowerCase(),at=(s,t)=>s.indexOf(t)===0,oe=Date.now,xt=Array.isArray,ut=s=>s&&s.constructor===Object,Xt=s=>typeof s=="number"&&!isNaN(s),Dt=s=>typeof s=="string",Lt=s=>typeof s=="function",b=s=>s===void 0,He=s=>b(s)||s===null,xs=s=>zt&&s instanceof SVGElement,oi=s=>wi.test(s),ai=s=>at(s,"rgb"),hi=s=>at(s,"hsl"),ge=s=>!w.defaults.hasOwnProperty(s),_e=s=>Dt(s)?parseFloat(s):s,de=Math.pow,be=Math.sqrt,ws=Math.sin,ks=Math.cos,Mt=Math.abs,Ps=Math.exp,Li=Math.ceil,Ae=Math.floor,Ai=Math.asin,li=Math.max,qe=Math.atan2,we=Math.PI,fs=Math.round,E=(s,t,e)=>s<t?t:s>e?e:s,Ys={},v=(s,t)=>{if(t<0)return s;if(!t)return fs(s);let e=Ys[t];return e||(e=Ys[t]=10**t),fs(s*e)/e},se=(s,t)=>xt(t)?t.reduce((e,i)=>Mt(i-s)<Mt(e-s)?i:e):t?fs(s/t)*t:s,Ot=(s,t,e)=>s+(t-s)*e,Ce=s=>s===1/0?me:s===-1/0?-1e12:s,re=s=>s<q?q:s,gt=s=>xt(s)?[...s]:s,Ne=(s,t)=>{const e={...s};for(let i in t){const r=s[i];e[i]=b(r)?t[i]:r}return e},Z=(s,t,e,i="_prev",r="_next")=>{let n=s._head,o=r;for(e&&(n=s._tail,o=i);n;){const h=n[o];t(n),n=h}},Ht=(s,t,e="_prev",i="_next")=>{const r=t[e],n=t[i];r?r[i]=n:s._head=n,n?n[e]=r:s._tail=r,t[e]=null,t[i]=null},qt=(s,t,e,i="_prev",r="_next")=>{let n=s._tail;for(;n&&e&&e(n,t);)n=n[i];const o=n?n[r]:s._head;n?n[r]=t:s._head=t,o?o[i]=t:s._tail=t,t[i]=n,t[r]=o};class ci{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=v(it/120,0),this._fps=120,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const e=this._frameDuration,i=+t,r=i<q?q:i,n=v(it/r,0);this._fps=r,this._frameDuration=n,this._scheduledTime+=n-e}get speed(){return this._speed}set speed(t){const e=+t;this._speed=e<q?q:e}requestTick(t){const e=this._scheduledTime,i=this._elapsedTime;if(this._elapsedTime+=t-i,i<e)return xi;const r=this._frameDuration,n=i-e;return this._scheduledTime+=n<r?r:n,xe}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const Qe=(s,t,e,i,r)=>{const n=s.parent,o=s.duration,h=s.completed,a=s.iterationDuration,l=s.iterationCount,c=s._currentIteration,u=s._loopDelay,d=s._reversed,p=s._alternate,m=s._hasChildren,g=s._delay,f=s._currentTime,_=g+a,y=t-g,x=E(f,-g,o),A=E(y,-g,o),C=y-f,X=A>0,k=A>=o,I=o<=q,P=r===ye;let B=0,D=y,F=0;if(l>1){const j=~~(A/(a+(k?0:u)));s._currentIteration=E(j,0,l),k&&s._currentIteration--,B=s._currentIteration%2,D=A%(a+u)||0}const L=d^(p&&B),z=s._ease;let T=k?L?0:o:L?a-D:D;z&&(T=a*z(T/a)||0);const V=(n?n.backwards:y<f)?!L:!!L;if(s._currentTime=y,s._iterationTime=T,s.backwards=V,X&&!s.began?(s.began=!0,e||n&&(V||!n.began)||s.onBegin(s)):y<=0&&(s.began=!1),e||m||!X||s._currentIteration===c||s.onLoop(s),P||r===xe&&(t>=g&&t<=_||t<=g&&x>g||t>=_&&x!==o)||T>=_&&x!==o||T<=g&&x>0||t<=x&&x===o&&h||k&&!h&&I){if(X&&(s.computeDeltaTime(x),e||s.onBeforeUpdate(s)),!m){const j=P||(V?-1*C:C)>=w.tickThreshold,M=s._offset+(n?n._offset:0)+g+T;let O,J,K,rt,S=s._head,Q=0;for(;S;){const G=S._composition,U=S._currentTime,H=S._changeDuration,ht=S._absoluteStartTime+S._changeDuration,st=S._nextRep,dt=S._prevRep,pt=G!==lt.none;if((j||(U!==H||M<=ht+(st?st._delay:0))&&(U!==0||M>=S._absoluteStartTime))&&(!pt||!S._isOverridden&&(!S._isOverlapped||M<=ht)&&(!st||st._isOverridden||M<=st._absoluteStartTime)&&(!dt||dt._isOverridden||M>=dt._absoluteStartTime+dt._changeDuration+S._delay))){const ct=S._currentTime=E(T-S._startTime,0,H),tt=S._ease(ct/S._updateDuration),yt=S._modifier,At=S._valueType,mt=S._tweenType,vt=mt===Je,he=At===Pe,Ft=he&&vt||tt===0||tt===1?-1:w.precision;let bt,le;if(he)bt=le=yt(v(Ot(S._fromNumber,S._toNumber,tt),Ft));else if(At===wt)le=yt(v(Ot(S._fromNumber,S._toNumber,tt),Ft)),bt=`${le}${S._unit}`;else if(At===Zt){const nt=S._fromNumbers,Pt=S._toNumbers,Yt=v(E(yt(Ot(nt[0],Pt[0],tt)),0,255),0),It=v(E(yt(Ot(nt[1],Pt[1],tt)),0,255),0),Re=v(E(yt(Ot(nt[2],Pt[2],tt)),0,255),0),ce=E(yt(v(Ot(nt[3],Pt[3],tt),Ft)),0,1);if(bt=`rgba(${Yt},${It},${Re},${ce})`,pt){const ee=S._numbers;ee[0]=Yt,ee[1]=It,ee[2]=Re,ee[3]=ce}}else if(At===Jt){bt=S._strings[0];for(let nt=0,Pt=S._toNumbers.length;nt<Pt;nt++){const Yt=yt(v(Ot(S._fromNumbers[nt],S._toNumbers[nt],tt),Ft)),It=S._strings[nt+1];bt+=`${It?Yt+It:Yt}`,pt&&(S._numbers[nt]=Yt)}}if(pt&&(S._number=le),i||G===lt.blend)S._value=bt;else{const nt=S.property;O=S.target,vt?O[nt]=bt:mt===De?O.setAttribute(nt,bt):(J=O.style,mt===te?(O!==K&&(K=O,rt=O[Ye]),rt[nt]=bt,Q=1):mt===vs?J[nt]=bt:mt===bs&&J.setProperty(nt,bt)),X&&(F=1)}}if(Q&&S._renderTransforms){let ct=Ut;for(let tt in rt)ct+=`${Ts[tt]}${rt[tt]}) `;J.transform=ct,Q=0}S=S._next}!e&&F&&s.onRender(s)}!e&&X&&s.onUpdate(s)}return n&&I?!e&&(n.began&&!V&&y>=o&&!h||V&&y<=q&&h)&&(s.onComplete(s),s.completed=!V):X&&k?l===1/0?s._startTime+=s.duration:s._currentIteration>=l-1&&(s.paused=!0,h||m||(s.completed=!0,e||n&&(V||!n.began)||(s.onComplete(s),s._resolve(s)))):s.completed=!1,F},ie=(s,t,e,i,r)=>{const n=s._currentIteration;if(Qe(s,t,e,i,r),s._hasChildren){const o=s,h=o.backwards,a=i?t:o._iterationTime,l=oe();let c=0,u=!0;if(!i&&o._currentIteration!==n){const d=o.iterationDuration;Z(o,p=>{if(h){const m=p.duration,g=p._offset+p._delay;e||!(m<=q)||g&&g+m!==d||p.onComplete(p)}else!p.completed&&!p.backwards&&p._currentTime<p.iterationDuration&&Qe(p,d,e,1,ye),p.began=!1,p.completed=!1}),e||o.onLoop(o)}Z(o,d=>{const p=v((a-d._offset)*d._speed,12),m=d._fps<o._fps?d.requestTick(l):r;c+=Qe(d,p,e,i,m),!d.completed&&u&&(u=!1)},h),!e&&c&&o.onRender(o),u&&o._currentTime>=o.duration&&(o.paused=!0,o.completed||(o.completed=!0,e||(o.onComplete(o),o._resolve(o))))}},Se={animation:null,update:R},ui=zt?requestAnimationFrame:setImmediate,Ni=zt?cancelAnimationFrame:clearImmediate;class Fi extends ci{constructor(t){super(t),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=ii,this.paused=!(!zt||!N.hidden),this.reqId=null}update(){const t=this._currentTime=oe();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,i=this._fps;let r=this._head;for(;r;){const n=r._next;r.paused?(Ht(this,r),this._hasChildren=!!this._tail,r._running=!1,r.completed&&!r._cancelled&&r.cancel()):ie(r,(t-r._startTime)*r._speed*e,0,0,r._fps<i?r.requestTick(t):xe),r=n}Se.update()}}wake(){return!this.useDefaultMainLoop||this.reqId||this.paused||(this.reqId=ui(di)),this}pause(){return this.paused=!0,Pi()}resume(){if(this.paused)return this.paused=!1,Z(this,t=>t.resetTime()),this.wake()}get speed(){return this._speed*(w.timeScale===1?1:it)}set speed(t){this._speed=t*w.timeScale,Z(this,e=>e.speed=e._speed)}get timeUnit(){return w.timeScale===1?"ms":"s"}set timeUnit(t){const e=t==="s",i=e?.001:1;if(w.timeScale!==i){w.timeScale=i,w.tickThreshold=200*i;const r=e?.001:it;this.defaults.duration*=r,this._speed*=r}}get precision(){return w.precision}set precision(t){w.precision=t}}const ot=(()=>{const s=new Fi(oe());return zt&&(ri.engine=s,N.addEventListener("visibilitychange",()=>{s.pauseOnDocumentHidden&&(N.hidden?s.pause():s.resume())})),s})(),di=()=>{ot._head?(ot.reqId=ui(di),ot.update()):ot.reqId=0},Pi=()=>(Ni(ot.reqId),ot.reqId=0,ot);function Rs(s){const t=Dt(s)?w.root.querySelectorAll(s):s;if(t instanceof NodeList||t instanceof HTMLCollection)return t}function Bt(s){if(He(s))return[];if(xt(s)){const e=s.flat(1/0),i=[];for(let r=0,n=e.length;r<n;r++){const o=e[r];if(!He(o)){const h=Rs(o);if(h)for(let a=0,l=h.length;a<l;a++){const c=h[a];if(!He(c)){let u=!1;for(let d=0,p=i.length;d<p;d++)if(i[d]===c){u=!0;break}u||i.push(c)}}else{let a=!1;for(let l=0,c=i.length;l<c;l++)if(i[l]===o){a=!0;break}a||i.push(o)}}}return i}if(!zt)return[s];const t=Rs(s);return t?Array.from(t):[s]}function es(s){const t=Bt(s),e=t.length;if(e)for(let i=0;i<e;i++){const r=t[i];if(!r[As]){r[As]=!0;const n=xs(r);(r.nodeType||n)&&(r[ts]=!0,r[Ss]=n,r[Ye]={})}}return t}const Xs=s=>{const t=Bt(s)[0];if(t&&xs(t))return t},os=(s,t,e=0)=>s.getPointAtLength(t+e>=1?t+e:0),as=(s,t)=>e=>{const i=+s.getTotalLength(),r=e[Ss],n=s.getCTM();return{from:0,to:i,modifier:o=>{if(t==="a"){const h=os(s,o,-1),a=os(s,o,1);return 180*qe(a.y-h.y,a.x-h.x)/we}{const h=os(s,o,0);return t==="x"?r||!n?h.x:h.x*n.a+h.y*n.c+n.e:r||!n?h.y:h.x*n.b+h.y*n.d+n.f}}}},Yi=["opacity","rotate","overflow","color"],ar={morphTo:(s,t=.33)=>e=>{const i=Xs(s);if(!i)return;const r=e.tagName==="path",n=r?" ":",",o=e[Ns];o&&e.setAttribute(r?"d":"points",o);let h="",a="";if(t){const l=e.getTotalLength(),c=i.getTotalLength(),u=Math.max(Math.ceil(l*t),Math.ceil(c*t));for(let d=0;d<u;d++){const p=d/(u-1),m=e.getPointAtLength(l*p),g=i.getPointAtLength(c*p),f=r?d===0?"M":"L":"";h+=f+v(m.x,3)+n+m.y+" ",a+=f+v(g.x,3)+n+g.y+" "}}else h=e.getAttribute(r?"d":"points"),a=i.getAttribute(r?"d":"points");return e[Ns]=a,[h,a]},createMotionPath:s=>{const t=Xs(s);if(t)return{translateX:as(t,"x"),translateY:as(t,"y"),rotate:as(t,"a")}},createDrawable:(s,t=0,e=0)=>{const i=Bt(s);return i.forEach((r,n)=>i[n]=function(o,h,a){const l=getComputedStyle(o).strokeLinecap,c=it;let u=l;const d=new Proxy(o,{get(p,m){const g=p[m];return m===ti?p:m==="setAttribute"?(...f)=>{if(f[0]==="draw"){const _=f[1].split(" "),y=+_[0],x=+_[1],A=-1e3*y,C=x*c+A,X=c+(y===0&&x===1||y===1&&x===0?0:10)-C;if(l!=="butt"){const k=y===x?"butt":l;u!==k&&(p.setAttribute("stroke-linecap",`${k}`),u=k)}p.setAttribute("stroke-dashoffset",`${A}`),p.setAttribute("stroke-dasharray",`${C} ${X}`)}return Reflect.apply(g,p,f)}:Lt(g)?(...f)=>Reflect.apply(g,p,f):g}});return o.getAttribute("pathLength")!=="1000"&&(o.setAttribute("pathLength","1000"),d.setAttribute("draw",`${h} ${a}`)),d}(r,t,e)),i}},hs=(s,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+6*(t-s)*e:e<.5?t:e<2/3?s+(t-s)*(2/3-e)*6:s),Ri=s=>ai(s)?(t=>{const e=ki.exec(t)||$i.exec(t),i=b(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],i]})(s):oi(s)?(t=>{const e=t.length,i=e===4||e===5;return[+("0x"+t[1]+t[i?1:2]),+("0x"+t[i?2:3]+t[i?2:4]),+("0x"+t[i?3:5]+t[i?3:6]),e===5||e===9?+(+("0x"+t[i?4:7]+t[i?4:8])/255).toFixed(3):1]})(s):hi(s)?(t=>{const e=Ei.exec(t)||Ci.exec(t),i=+e[1]/360,r=+e[2]/100,n=+e[3]/100,o=b(e[4])?1:+e[4];let h,a,l;if(r===0)h=a=l=n;else{const c=n<.5?n*(1+r):n+r-n*r,u=2*n-c;h=v(255*hs(u,c,i+1/3),0),a=v(255*hs(u,c,i),0),l=v(255*hs(u,c,i-1/3),0)}return[h,a,l,o]})(s):[0,0,0,1],$=(s,t)=>b(s)?t:s,kt=(s,t,e,i,r)=>{if(Lt(s)){const n=()=>{const o=s(t,e,i);return isNaN(+o)?o||0:+o};return r&&(r.func=n),n()}return s},$s=(s,t)=>s[ts]?s[Ss]&&((e,i)=>{if(Yi.includes(i))return!1;if(e.getAttribute(i)||i in e){if(i==="scale"){const r=e.parentNode;return r&&r.tagName==="filter"}return!0}})(s,t)?De:Le.includes(t)||ve.get(t)?te:at(t,"--")?bs:t in s.style?vs:t in s?Je:De:Je,Ms=(s,t,e)=>{const i=s.style[t];i&&e&&(e[t]=i);const r=i||getComputedStyle(s[ti]||s).getPropertyValue(t);return r==="auto"?"0":r},pe=(s,t,e,i)=>{const r=b(e)?$s(s,t):e;return r===Je?s[t]||0:r===De?s.getAttribute(t):r===te?((n,o,h)=>{const a=n.style.transform;let l;if(a){const c=n[Ye];let u;for(;u=Di.exec(a);){const d=u[1],p=u[2].slice(1,-1);c[d]=p,d===o&&(l=p,h&&(h[o]=p))}}return a&&!b(l)?l:at(o,"scale")?"1":at(o,"rotate")||at(o,"skew")?"0deg":"0px"})(s,t,i):r===bs?Ms(s,t,i).trimStart():Ms(s,t,i)},Te=(s,t,e)=>e==="-"?s-t:e==="+"?s+t:s*t,Es=()=>({t:Pe,n:0,u:null,o:null,d:null,s:null}),Ct=(s,t)=>{if(t.t=Pe,t.n=0,t.u=null,t.o=null,t.d=null,t.s=null,!s)return t;const e=+s;if(isNaN(e)){let r=s;r[1]==="="&&(t.o=r[0],r=r.slice(2));const n=!r.includes(" ")&&ei.exec(r);if(n)return t.t=wt,t.n=+n[1],t.u=n[2],t;if(t.o)return t.n=+r,t;if(oi(i=r)||ai(i)||hi(i))return t.t=Zt,t.d=Ri(r),t;{const o=r.match(Fs);return t.t=Jt,t.d=o?o.map(Number):[],t.s=r.split(Fs)||[],t}}return t.n=e,t;var i},zs=(s,t)=>(t.t=s._valueType,t.n=s._toNumber,t.u=s._unit,t.o=null,t.d=gt(s._toNumbers),t.s=gt(s._strings),t),Tt=Es(),Ke={_rep:new WeakMap,_add:new Map},Cs=(s,t,e="_rep")=>{const i=Ke[e];let r=i.get(s);return r||(r={},i.set(s,r)),r[t]?r[t]:r[t]={_head:null,_tail:null}},Xi=(s,t)=>s._isOverridden||s._absoluteStartTime>t._absoluteStartTime,je=s=>{s._isOverlapped=1,s._isOverridden=1,s._changeDuration=q,s._currentTime=q},pi=(s,t)=>{const e=s._composition;if(e===lt.replace){const i=s._absoluteStartTime;qt(t,s,Xi,"_prevRep","_nextRep");const r=s._prevRep;if(r){const n=r.parent,o=r._absoluteStartTime+r._changeDuration;if(s.parent.id!==n.id&&n.iterationCount>1&&o+(n.duration-n.iterationDuration)>i){je(r);let l=r._prevRep;for(;l&&l.parent.id===n.id;)je(l),l=l._prevRep}const h=i-s._delay;if(o>h){const l=r._startTime,c=o-(l+r._updateDuration);r._changeDuration=h-c-l,r._currentTime=r._changeDuration,r._isOverlapped=1,r._changeDuration<q&&je(r)}let a=!0;if(Z(n,l=>{l._isOverlapped||(a=!1)}),a){const l=n.parent;if(l){let c=!0;Z(l,u=>{u!==n&&Z(u,d=>{d._isOverlapped||(c=!1)})}),c&&l.cancel()}else n.cancel()}}}else if(e===lt.blend){const i=Cs(s.target,s.property,"_add"),r=(h=>{let a=Se.animation;return a||(a={duration:q,computeDeltaTime:R,_offset:0,_delay:0,_head:null,_tail:null},Se.animation=a,Se.update=()=>{h.forEach(l=>{for(let c in l){const u=l[c],d=u._head;if(d){const p=d._valueType,m=p===Jt||p===Zt?gt(d._fromNumbers):null;let g=d._fromNumber,f=u._tail;for(;f&&f!==d;){if(m)for(let _=0,y=f._numbers.length;_<y;_++)m[_]+=f._numbers[_];else g+=f._number;f=f._prevAdd}d._toNumber=g,d._toNumbers=m}}}),Qe(a,1,1,0,ye)}),a})(Ke._add);let n=i._head;n||(n={...s},n._composition=lt.replace,n._updateDuration=q,n._startTime=0,n._numbers=gt(s._fromNumbers),n._number=0,n._next=null,n._prev=null,qt(i,n),qt(r,n));const o=s._toNumber;if(s._fromNumber=n._fromNumber-o,s._toNumber=0,s._numbers=gt(s._fromNumbers),s._number=0,n._fromNumber=o,s._toNumbers){const h=gt(s._toNumbers);h&&h.forEach((a,l)=>{s._fromNumbers[l]=n._fromNumbers[l]-a,s._toNumbers[l]=0}),n._fromNumbers=h}qt(i,s,null,"_prevAdd","_nextAdd")}return s},fi=s=>{const t=s._composition;if(t!==lt.none){const e=s.target,i=s.property,r=Ke._rep.get(e)[i];if(Ht(r,s,"_prevRep","_nextRep"),t===lt.blend){const n=Ke._add,o=n.get(e);if(!o)return;const h=o[i],a=Se.animation;Ht(h,s,"_prevAdd","_nextAdd");const l=h._head;if(l&&l===h._tail){Ht(h,l,"_prevAdd","_nextAdd"),Ht(a,l);let c=!0;for(let u in o)if(o[u]._head){c=!1;break}c&&n.delete(e)}}}return s},Is=s=>(s.paused=!0,s.began=!1,s.completed=!1,s),ms=s=>(s._cancelled&&(s._hasChildren?Z(s,ms):Z(s,t=>{t._composition!==lt.none&&pi(t,Cs(t.target,t.property))}),s._cancelled=0),s);let Mi=0;class $t extends ci{constructor(t={},e=null,i=0){super(0);const{id:r,delay:n,duration:o,reversed:h,alternate:a,loop:l,loopDelay:c,autoplay:u,frameRate:d,playbackRate:p,onComplete:m,onLoop:g,onPause:f,onBegin:_,onBeforeUpdate:y,onUpdate:x}=t;w.scope&&w.scope.revertibles.push(this);const A=e?0:ot._elapsedTime,C=e?e.defaults:w.defaults,X=Lt(n)||b(n)?C.delay:+n,k=Lt(o)||b(o)?1/0:+o,I=$(l,C.loop),P=$(c,C.loopDelay),B=I===!0||I===1/0||I<0?1/0:I+1;let D=0;if(e)D=i;else{let F=oe();ot.paused&&(ot.requestTick(F),F=ot._elapsedTime),D=F-ot._startTime}this.id=b(r)?++Mi:r,this.parent=e,this.duration=Ce((k+P)*B-P)||q,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=_||C.onBegin,this.onBeforeUpdate=y||C.onBeforeUpdate,this.onUpdate=x||C.onUpdate,this.onLoop=g||C.onLoop,this.onPause=f||C.onPause,this.onComplete=m||C.onComplete,this.iterationDuration=k,this.iterationCount=B,this._autoplay=!e&&$(u,C.autoplay),this._offset=D,this._delay=X,this._loopDelay=P,this._iterationTime=0,this._currentIteration=0,this._resolve=R,this._running=!1,this._reversed=+$(h,C.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=$(a,C.alternate),this._prev=null,this._next=null,this._elapsedTime=A,this._startTime=A,this._lastTime=A,this._fps=$(d,C.frameRate),this._speed=$(p,C.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(1).play()}get currentTime(){return E(v(this._currentTime,w.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return v(this._iterationTime,w.precision)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return E(v(this._currentTime/this.duration,5),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return E(v(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*E(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=0){return ms(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,ie(this,0,1,t,ye),Is(this),this._hasChildren&&Z(this,Is),this}init(t=0){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&ie(this,this.duration,1,t,ye),this.reset(t);const e=this._autoplay;return e===!0?this.resume():e&&!b(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*ot._speed);return this._startTime=oe()-(this._currentTime+this._delay)*t,this}pause(){return this.paused||(this.paused=!0,this.onPause(this)),this}resume(){return this.paused?(this.paused=!1,this.duration<=q&&!this._hasChildren?ie(this,q,0,0,ye):(this._running||(qt(ot,this),ot._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,ot.wake()),this):this}restart(){return this.reset(0).resume()}seek(t,e=0,i=0){ms(this),this.completed=!1;const r=this.paused;return this.paused=!0,ie(this,t+this._delay,~~e,~~i,xe),r?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,i=this.iterationDuration,r=e===1/0?Ae(me/i):e;return this._reversed=+(!this._alternate||r%2?!t:t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(i*r-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?Z(this,t=>t.cancel(),!0):Z(this,fi),this._cancelled=1,this.pause()}stretch(t){const e=this.duration;if(e===re(t))return this;const i=t/e,r=t<=q;return this.duration=r?q:re(Ce(v(e*i,12))),this.iterationDuration=r?q:re(Ce(v(this.iterationDuration*i,12))),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){ie(this,0,1,0,xe);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(t=R){const e=this.then,i=()=>{this.then=null,t(this),this.then=e,this._resolve=R};return new Promise(r=>(this._resolve=()=>r(i()),this.completed&&this._resolve(),this))}}const hr=s=>new $t(s,null,0).init(),Qt=s=>s,Os=(s,t,e)=>(((1-3*e+3*t)*s+(3*e-6*t))*s+3*t)*s,zi=(s=.5,t=0,e=.5,i=1)=>s===t&&e===i?Qt:r=>r===0||r===1?r:Os(((n,o,h)=>{let a,l,c=0,u=1,d=0;do l=c+(u-c)/2,a=Os(l,o,h)-n,a>0?u=l:c=l;while(Mt(a)>1e-7&&++d<100);return l})(r,s,e),t,i),Ii=(s=10,t)=>{const e=t?Li:Ae;return i=>e(E(i,0,1)*s)*(1/s)},mi=(...s)=>{const t=s.length;if(!t)return Qt;const e=t-1,i=s[0],r=s[e],n=[0],o=[_e(i)];for(let h=1;h<e;h++){const a=s[h],l=Dt(a)?a.trim().split(" "):[a],c=l[0],u=l[1];n.push(b(u)?h/e:_e(u)/100),o.push(_e(c))}return o.push(_e(r)),n.push(1),function(h){for(let a=1,l=n.length;a<l;a++){const c=n[a];if(h<=c){const u=n[a-1],d=o[a-1];return d+(o[a]-d)*(h-u)/(c-u)}}return o[o.length-1]}},Oi=(s=10,t=1)=>{const e=[0],i=s-1;for(let r=1;r<i;r++){const n=e[r-1],o=r/i,h=o*(1-t)+(o+((r+1)/i-o)*Math.random())*t;e.push(E(h,n,1))}return e.push(1),mi(...e)},Wi=we/2,Ws=2*we,fe=(s=1.68)=>t=>de(t,+s),Vs={[Ut]:fe,Quad:fe(2),Cubic:fe(3),Quart:fe(4),Quint:fe(5),Sine:s=>1-ks(s*Wi),Circ:s=>1-be(1-s*s),Expo:s=>s?de(2,10*s-10):0,Bounce:s=>{let t,e=4;for(;s<((t=de(2,--e))-1)/11;);return 1/de(4,3-e)-7.5625*de((3*t-2)/22-s,2)},Back:(s=1.70158)=>t=>(+s+1)*t*t*t-+s*t*t,Elastic:(s=1,t=.3)=>{const e=E(+s,1,10),i=E(+t,q,2),r=i/Ws*Ai(1/e),n=Ws/i;return o=>o===0||o===1?o:-e*de(2,-10*(1-o))*ws((1-o-r)*n)}},Fe={in:s=>t=>s(t),out:s=>t=>1-s(1-t),inOut:s=>t=>t<.5?s(2*t)/2:1-s(-2*t+2)/2,outIn:s=>t=>t<.5?(1-s(1-2*t))/2:(s(2*t-1)+1)/2},gi=(s,t,e)=>{if(e[s])return e[s];if(s.indexOf("(")<=-1){const i=Fe[s]||s.includes("Back")||s.includes("Elastic")?t[s]():t[s];return i?e[s]=i:Qt}{const i=s.slice(0,-1).split("("),r=t[i[0]];return r?e[s]=r(...i[1].split(",")):Qt}},$e=(()=>{const s={linear:mi,irregular:Oi,steps:Ii,cubicBezier:zi};for(let t in Fe)for(let e in Vs){const i=Vs[e],r=Fe[t];s[t+e]=e===Ut||e==="Back"||e==="Elastic"?(n,o)=>r(i(n,o)):r(i)}return s})(),Vi={linear:Qt},ae=s=>Lt(s)?s:Dt(s)?gi(s,$e,Vi):Qt,Us={},Bs=(s,t,e)=>{if(e===te)return ve.get(s)||s;if(e===vs||e===De&&xs(t)&&s in t.style){const i=Us[s];if(i)return i;{const r=s&&ni(s);return Us[s]=r,r}}return s},ls={deg:1,rad:180/we,turn:360},Hs={},Ds=(s,t,e,i=!1)=>{const r=t.u,n=t.n;if(t.t===wt&&r===e)return t;const o=n+r+e,h=Hs[o];if(b(h)||i){let a;if(r in ls)a=n*ls[r]/ls[e];else{const c=s.cloneNode(),u=s.parentNode,d=u&&u!==N?u:N.body;d.appendChild(c);const p=c.style;p.width=100+r;const m=c.offsetWidth||100;p.width=100+e;const g=m/(c.offsetWidth||100);d.removeChild(c),a=g*n}t.n=a,Hs[o]=a}else t.n=h;return t.t,t.u=e,t},ss=s=>{if(s._hasChildren)Z(s,ss,!0);else{const t=s;t.pause(),Z(t,e=>{const i=e.property,r=e.target;if(r[ts]){const n=r.style,o=t._inlineStyles[i];if(e._tweenType===te){const h=r[Ye];if(b(o)||o===Ut?delete h[i]:h[i]=o,e._renderTransforms)if(Object.keys(h).length){let a=Ut;for(let l in h)a+=Ts[l]+h[l]+") ";n.transform=a}else n.removeProperty("transform")}else b(o)||o===Ut?n.removeProperty(i):n[i]=o;t._tail===e&&t.targets.forEach(h=>{h.getAttribute&&h.getAttribute("style")===Ut&&h.removeAttribute("style")})}})}return s},Y=Es(),W=Es(),ze={func:null},Ie=[null],ue=[null,null],Oe={to:null};let jt,Rt,Ui=0;class ne extends $t{constructor(t,e,i,r,n=!1,o=0,h=0){super(e,i,r);const a=es(t),l=a.length,c=e.keyframes,u=c?Ne(((M,O)=>{const J={};if(xt(M)){const K=[].concat(...M.map(rt=>Object.keys(rt))).filter(ge);for(let rt=0,S=K.length;rt<S;rt++){const Q=K[rt],G=M.map(U=>{const H={};for(let ht in U){const st=U[ht];ge(ht)?ht===Q&&(H.to=st):H[ht]=st}return H});J[Q]=G}}else{const K=$(O.duration,w.defaults.duration);Object.keys(M).map(S=>({o:parseFloat(S)/100,p:M[S]})).sort((S,Q)=>S.o-Q.o).forEach(S=>{const Q=S.o,G=S.p;for(let U in G)if(ge(U)){let H=J[U];H||(H=J[U]=[]);const ht=Q*K;let st=H.length,dt=H[st-1];const pt={to:G[U]};let ct=0;for(let tt=0;tt<st;tt++)ct+=H[tt].duration;st===1&&(pt.from=dt.to),G.ease&&(pt.ease=G.ease),pt.duration=ht-(st?ct:0),H.push(pt)}return S});for(let S in J){const Q=J[S];let G;for(let U=0,H=Q.length;U<H;U++){const ht=Q[U],st=ht.ease;ht.ease=G||void 0,G=st}Q[0].duration||Q.shift()}}return J})(c,e),e):e,{delay:d,duration:p,ease:m,playbackEase:g,modifier:f,composition:_,onRender:y}=u,x=i?i.defaults:w.defaults,A=$(g,x.playbackEase),C=A?ae(A):null,X=!b(m)&&!b(m.ease),k=X?m.ease:$(m,C?"linear":x.ease),I=X?m.duration:$(p,x.duration),P=$(d,x.delay),B=f||x.modifier,D=b(_)&&l>=it?lt.none:b(_)?x.composition:_,F={},L=this._offset+(i?i._offset:0);let z=NaN,T=NaN,V=0,j=0;for(let M=0;M<l;M++){const O=a[M],J=o||M,K=h||l;let rt=NaN,S=NaN;for(let Q in u)if(ge(Q)){const G=$s(O,Q),U=Bs(Q,O,G);let H=u[Q];const ht=xt(H);if(n&&!ht&&(ue[0]=H,ue[1]=H,H=ue),ht){const yt=H.length,At=!ut(H[0]);yt===2&&At?(Oe.to=H,Ie[0]=Oe,jt=Ie):yt>2&&At?(jt=[],H.forEach((mt,vt)=>{vt?vt===1?(ue[1]=mt,jt.push(ue)):jt.push(mt):ue[0]=mt})):jt=H}else Ie[0]=H,jt=Ie;let st=null,dt=null,pt=NaN,ct=0,tt=0;for(let yt=jt.length;tt<yt;tt++){const At=jt[tt];ut(At)?Rt=At:(Oe.to=At,Rt=Oe),ze.func=null;const mt=kt(Rt.to,O,J,K,ze);let vt;ut(mt)&&!b(mt.to)?(Rt=mt,vt=mt.to):vt=mt;const he=kt(Rt.from,O,J,K),Ft=Rt.ease,bt=!b(Ft)&&!b(Ft.ease),le=bt?Ft.ease:Ft||k,nt=bt?Ft.duration:kt($(Rt.duration,yt>1?kt(I,O,J,K)/yt:I),O,J,K),Pt=kt($(Rt.delay,tt?0:P),O,J,K),Yt=kt($(Rt.composition,D),O,J,K),It=Xt(Yt)?Yt:lt[Yt],Re=Rt.modifier||B,ce=!b(he),ee=!b(vt),Xe=xt(vt),Ti=Xe||ce&&ee,is=dt?ct+Pt:Pt,rs=L+is;j||!ce&&!Xe||(j=1);let Et=dt;if(It!==lt.none){st||(st=Cs(O,U));let et=st._head;for(;et&&!et._isOverridden&&et._absoluteStartTime<=rs;)if(Et=et,et=et._nextRep,et&&et._absoluteStartTime>=rs)for(;et;)je(et),et=et._nextRep}if(Ti?(Ct(Xe?kt(vt[0],O,J,K):he,Y),Ct(Xe?kt(vt[1],O,J,K,ze):vt,W),Y.t===Pe&&(Et?Et._valueType===wt&&(Y.t=wt,Y.u=Et._unit):(Ct(pe(O,U,G,F),Tt),Tt.t===wt&&(Y.t=wt,Y.u=Tt.u)))):(ee?Ct(vt,W):dt?zs(dt,W):Ct(i&&Et&&Et.parent.parent===i?Et._value:pe(O,U,G,F),W),ce?Ct(he,Y):dt?zs(dt,Y):Ct(i&&Et&&Et.parent.parent===i?Et._value:pe(O,U,G,F),Y)),Y.o&&(Y.n=Te(Et?Et._toNumber:Ct(pe(O,U,G,F),Tt).n,Y.n,Y.o)),W.o&&(W.n=Te(Y.n,W.n,W.o)),Y.t!==W.t){if(Y.t===Jt||W.t===Jt){const et=Y.t===Jt?Y:W,ft=Y.t===Jt?W:Y;ft.t=Jt,ft.s=gt(et.s),ft.d=et.d.map(()=>ft.n)}else if(Y.t===wt||W.t===wt){const et=Y.t===wt?Y:W,ft=Y.t===wt?W:Y;ft.t=wt,ft.u=et.u}else if(Y.t===Zt||W.t===Zt){const et=Y.t===Zt?Y:W,ft=Y.t===Zt?W:Y;ft.t=Zt,ft.s=et.s,ft.d=[0,0,0,1]}}if(Y.u!==W.u){let et=W.u?Y:W;et=Ds(O,et,W.u?W.u:Y.u,!1)}if(W.d&&Y.d&&W.d.length!==Y.d.length){const et=Y.d.length>W.d.length?Y:W,ft=et===Y?W:Y;ft.d=et.d.map((or,Ls)=>b(ft.d[Ls])?0:ft.d[Ls]),ft.s=gt(et.s)}const ns=v(+nt||q,12),Me={parent:this,id:Ui++,property:U,target:O,_value:null,_func:ze.func,_ease:ae(le),_fromNumbers:gt(Y.d),_toNumbers:gt(W.d),_strings:gt(W.s),_fromNumber:Y.n,_toNumber:W.n,_numbers:gt(Y.d),_number:Y.n,_unit:W.u,_modifier:Re,_currentTime:0,_startTime:is,_delay:+Pt,_updateDuration:ns,_changeDuration:ns,_absoluteStartTime:rs,_tweenType:G,_valueType:W.t,_composition:It,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};It!==lt.none&&pi(Me,st),isNaN(pt)&&(pt=Me._startTime),ct=v(is+ns,12),dt=Me,V++,qt(this,Me)}(isNaN(T)||pt<T)&&(T=pt),(isNaN(z)||ct>z)&&(z=ct),G===te&&(rt=V-tt,S=V)}if(!isNaN(rt)){let Q=0;Z(this,G=>{Q>=rt&&Q<S&&(G._renderTransforms=1,G._composition===lt.blend&&Z(Se.animation,U=>{U.id===G.id&&(U._renderTransforms=1)})),Q++})}}l||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),T?(Z(this,M=>{M._startTime-M._delay||(M._delay-=T),M._startTime-=T}),z-=T):T=0,z||(z=q,this.iterationCount=0),this.targets=a,this.duration=z===q?q:Ce((z+this._loopDelay)*this.iterationCount-this._loopDelay)||q,this.onRender=y||x.onRender,this._ease=C,this._delay=T,this.iterationDuration=z,this._inlineStyles=F,!this._autoplay&&j&&this.onRender(this)}stretch(t){const e=this.duration;if(e===re(t))return this;const i=t/e;return Z(this,r=>{r._updateDuration=re(v(r._updateDuration*i,12)),r._changeDuration=re(v(r._changeDuration*i,12)),r._currentTime*=i,r._startTime*=i,r._absoluteStartTime*=i}),super.stretch(t)}refresh(){return Z(this,t=>{const e=pe(t.target,t.property,t._tweenType);Ct(e,Tt),t._fromNumbers=gt(Tt.d),t._fromNumber=Tt.n,t._func&&(Ct(t._func(),W),t._toNumbers=gt(W.d),t._strings=gt(W.s),t._toNumber=W.n)}),this}revert(){return super.revert(),ss(this)}then(t){return super.then(t)}}const lr=(s,t)=>new ne(s,t,null,0,!1).init(),Ge=(s,t=100)=>{const e=[];for(let i=0;i<=t;i++)e.push(s(i/t));return`linear(${e.join(", ")})`},cs={in:"ease-in",out:"ease-out",inOut:"ease-in-out"},Hi=(()=>{const s={};for(let t in Fe)s[t]=e=>Fe[t](fe(e));return s})(),us=s=>{let t=cs[s];if(t)return t;if(t="linear",Dt(s))if(at(s,"linear")||at(s,"cubic-")||at(s,"steps")||at(s,"ease"))t=s;else if(at(s,"cubicB"))t=ni(s);else{const e=gi(s,Hi,cs);Lt(e)&&(t=e===Qt?"linear":Ge(e))}else if(Lt(s)){const e=Ge(s);e&&(t=e)}else s.ease&&(t=Ge(s.ease));return cs[s]=t},_i=["x","y","z"],qi=["perspective","width","height","margin","padding","top","right","bottom","left","borderWidth","fontSize","borderRadius",..._i],Qi=[..._i,...Le.filter(s=>["X","Y","Z"].some(t=>s.endsWith(t)))];let qs=zt&&(b(CSS)||!Object.hasOwnProperty.call(CSS,"registerProperty"));const gs={_head:null,_tail:null},_s=(s,t,e)=>{let i=gs._head;for(;i;){const r=i._next,n=i.$el===s,o=!t||i.property===t,h=!e||i.parent===e;if(n&&o&&h){const a=i.animation;try{a.commitStyles()}catch{}a.cancel(),Ht(gs,i);const l=i.parent;l&&(l._completed++,l.animations.length===l._completed&&(l.completed=!0,l.muteCallbacks||(l.paused=!0,l.onComplete(l),l._resolve(l))))}i=r}},Qs=(s,t,e,i,r)=>{const n=t.animate(i,r),o=r.delay+ +r.duration*r.iterations;n.playbackRate=s._speed,s.paused&&n.pause(),s.duration<o&&(s.duration=o,s.controlAnimation=n),s.animations.push(n),_s(t,e),qt(gs,{parent:s,animation:n,$el:t,property:e,_next:null,_prev:null});const h=()=>{_s(t,e,s)};return n.onremove=h,n.onfinish=h,n},Be=(s,t,e,i,r)=>{let n=kt(t,e,i,r);return Xt(n)?qi.includes(s)||at(s,"translate")?`${n}px`:at(s,"rotate")||at(s,"skew")?`${n}deg`:`${n}`:n},js=(s,t,e,i,r,n)=>{let o="0";const h=b(i)?getComputedStyle(s)[t]:Be(t,i,s,r,n);return b(e)?o=xt(i)?i.map(a=>Be(t,a,s,r,n)):h:o=[Be(t,e,s,r,n),h],o};class ji{constructor(t,e){w.scope&&w.scope.revertibles.push(this),qs||(Le.forEach(f=>{const _=at(f,"skew"),y=at(f,"scale"),x=at(f,"rotate"),A=at(f,"translate"),C=x||_,X=C?"<angle>":y?"<number>":A?"<length-percentage>":"*";CSS.registerProperty({name:"--"+f,syntax:X,inherits:!1,initialValue:A?"0px":C?"0deg":y?"1":"0"})}),qs=!0);const i=es(t),r=i.length;r||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation.");const n=$(e.ease,us(w.defaults.ease)),o=n.ease&&n,h=$(e.autoplay,w.defaults.autoplay),a=!(!h||!h.link)&&h,l=e.alternate&&e.alternate===!0,c=e.reversed&&e.reversed===!0,u=$(e.loop,w.defaults.loop),d=u===!0||u===1/0?1/0:Xt(u)?u+1:1,p=l?c?"alternate-reverse":"alternate":c?"reverse":"normal",m=us(n),g=w.timeScale===1?1:it;this.targets=i,this.animations=[],this.controlAnimation=null,this.onComplete=e.onComplete||R,this.duration=0,this.muteCallbacks=!1,this.completed=!1,this.paused=!h||a!==!1,this.reversed=c,this.autoplay=h,this._speed=$(e.playbackRate,w.defaults.playbackRate),this._resolve=R,this._completed=0,this._inlineStyles=i.map(f=>f.getAttribute("style")),i.forEach((f,_)=>{const y=f[Ye],x=Qi.some(k=>e.hasOwnProperty(k)),A=(o?o.duration:kt($(e.duration,w.defaults.duration),f,_,r))*g,C=kt($(e.delay,w.defaults.delay),f,_,r)*g,X=$(e.composition,"replace");for(let k in e){if(!ge(k))continue;const I={},P={iterations:d,direction:p,fill:"forwards",easing:m,duration:A,delay:C,composite:X},B=e[k],D=!!x&&(Le.includes(k)?k:ve.get(k));let F;if(ut(B)){const L=B,z=$(L.ease,n),T=z.ease&&z,V=L.to,j=L.from;if(P.duration=(T?T.duration:kt($(L.duration,A),f,_,r))*g,P.delay=kt($(L.delay,C),f,_,r)*g,P.composite=$(L.composition,X),P.easing=us(z),F=js(f,k,j,V,_,r),D?(I[`--${D}`]=F,y[D]=F):I[k]=js(f,k,j,V,_,r),Qs(this,f,k,I,P),!b(j))if(D){const M=`--${D}`;f.style.setProperty(M,I[M][0])}else f.style[k]=I[k][0]}else F=xt(B)?B.map(L=>Be(k,L,f,_,r)):Be(k,B,f,_,r),D?(I[`--${D}`]=F,y[D]=F):I[k]=F,Qs(this,f,k,I,P)}if(x){let k=Ut;for(let I in y)k+=`${Ts[I]}var(--${I})) `;f.style.transform=k}}),a&&this.autoplay.link(this)}forEach(t){const e=Dt(t)?i=>i[t]():t;return this.animations.forEach(e),this}get speed(){return this._speed}set speed(t){this._speed=+t,this.forEach(e=>e.playbackRate=t)}get currentTime(){const t=this.controlAnimation,e=w.timeScale;return this.completed?this.duration:t?+t.currentTime*(e===1?1:e):0}set currentTime(t){const e=t*(w.timeScale===1?1:it);this.forEach(i=>i.currentTime=e)}get progress(){return this.currentTime/this.duration}set progress(t){this.forEach(e=>e.currentTime=t*this.duration||0)}resume(){return this.paused?(this.paused=!1,this.forEach("play")):this}pause(){return this.paused?this:(this.paused=!0,this.forEach("pause"))}alternate(){return this.reversed=!this.reversed,this.forEach("reverse"),this.paused&&this.forEach("pause"),this}play(){return this.reversed&&this.alternate(),this.resume()}reverse(){return this.reversed||this.alternate(),this.resume()}seek(t,e=!1){return e&&(this.muteCallbacks=!0),t<this.duration&&(this.completed=!1),this.currentTime=t,this.muteCallbacks=!1,this.paused&&this.pause(),this}restart(){return this.completed=!1,this.seek(0,!0).resume()}commitStyles(){return this.forEach("commitStyles")}complete(){return this.seek(this.duration)}cancel(){return this.forEach("cancel"),this.pause()}revert(){return this.cancel(),this.targets.forEach((t,e)=>t.setAttribute("style",this._inlineStyles[e])),this}then(t=R){const e=this.then,i=()=>{this.then=null,t(this),this.then=e,this._resolve=R};return new Promise(r=>(this._resolve=()=>r(i()),this.completed&&this._resolve(),this))}}const cr={animate:(s,t)=>new ji(s,t),convertEase:Ge},yi=(s=R)=>new $t({duration:1*w.timeScale,onComplete:s},null,0).resume();function Kt(s,t,e){const i=es(s);if(!i.length)return;const[r]=i,n=$s(r,t),o=Bs(t,r,n);let h=pe(r,o);if(b(e))return h;if(Ct(h,Tt),Tt.t===Pe||Tt.t===wt){if(e===!1)return Tt.n;{const a=Ds(r,Tt,e,!1);return`${v(a.n,w.precision)}${a.u}`}}}const Vt=(s,t)=>{if(!b(t))return t.duration=q,t.composition=$(t.composition,lt.none),new ne(s,t,null,0,!0).resume()},Gs=(s,t,e)=>{let i=!1;return Z(t,r=>{const n=r.target;if(s.includes(n)){const o=r.property,h=r._tweenType,a=Bs(e,n,h);(!a||a&&a===o)&&(r.parent._tail===r&&r._tweenType===te&&r._prev&&r._prev._tweenType===te&&(r._prev._renderTransforms=1),Ht(t,r),fi(r),i=!0)}},!0),i},Wt=(s,t,e)=>{const i=Bt(s),r=t||ot,n=t&&t.controlAnimation&&t;for(let h=0,a=i.length;h<a;h++){const l=i[h];_s(l,e,n)}let o;if(r._hasChildren){let h=0;Z(r,a=>{if(!a._hasChildren)if(o=Gs(i,a,e),o&&!a._head)a.cancel(),Ht(r,a);else{const l=a._offset+a._delay+a.duration;l>h&&(h=l)}a._head?Wt(s,a,e):a._hasChildren=!1},!0),b(r.iterationDuration)||(r.iterationDuration=h)}else o=Gs(i,r,e);return o&&!r._head&&(r._hasChildren=!1,r.cancel&&r.cancel()),i},ds=(s,t,e)=>{const i=10**(e||0);return Ae((Math.random()*(t-s+1/i)+s)*i)/i},Ee=(s,t,e,i,r)=>i+(s-t)/(e-t)*(r-i),vi=(s,t,e,i)=>{let r=it/w.defaults.frameRate;if(i!==!1){const o=i||ot._hasChildren&&ot;o&&o.deltaTime&&(r=o.deltaTime)}const n=1-Math.exp(-e*r*.1);return e?e===1?t:(1-n)*s+n*t:s},bi=s=>(...t)=>{const e=s(...t);return new Proxy(R,{apply:(i,r,[n])=>e(n),get:(i,r)=>bi((...n)=>{const o=Gi[r](...n);return h=>o(e(h))})})},Nt=(s,t=0)=>(...e)=>(e.length<s.length?bi(((i,r=0)=>(...n)=>r?o=>i(...n,o):o=>i(o,...n))(s,t)):s)(...e),Gi={$:es,get:Kt,set:Vt,remove:Wt,cleanInlineStyles:ss,random:ds,randomPick:s=>s[ds(0,s.length-1)],shuffle:s=>{let t,e,i=s.length;for(;i;)e=ds(0,--i),t=s[i],s[i]=s[e],s[e]=t;return s},lerp:vi,sync:yi,clamp:Nt(E),round:Nt(v),snap:Nt(se),wrap:Nt((s,t,e)=>((s-t)%(e-t)+(e-t))%(e-t)+t),interpolate:Nt(Ot,1),mapRange:Nt(Ee),roundPad:Nt((s,t)=>(+s).toFixed(t)),padStart:Nt((s,t,e)=>`${s}`.padStart(t,e)),padEnd:Nt((s,t,e)=>`${s}`.padEnd(t,e)),degToRad:Nt(s=>s*we/180),radToDeg:Nt(s=>180*s/we)},Ze=(s,t)=>{let e=s.iterationDuration;if(e===q&&(e=0),b(t))return e;if(Xt(+t))return+t;const i=t,r=s?s.labels:null,n=!He(r),o=((l,c)=>{if(at(c,"<")){const u=c[1]==="<",d=l._tail,p=d?d._offset+d._delay:0;return u?p:p+d.duration}})(s,i),h=!b(o),a=si.exec(i);if(a){const l=a[0],c=i.split(l),u=n&&c[0]?r[c[0]]:e,d=h?o:n?u:e,p=+c[1];return Te(d,p,l[0])}return h?o:n?b(r[i])?e:r[i]:e};function ps(s,t,e,i,r,n){const o=Xt(s.duration)&&s.duration<=q?e-q:e;ie(t,o,1,1,xe);const h=i?new ne(i,s,t,o,!1,r,n):new $t(s,t,o);return h.init(1),qt(t,h),Z(t,a=>{const l=a._offset+a._delay+a.duration;l>t.iterationDuration&&(t.iterationDuration=l)}),t.duration=function(a){return Ce((a.iterationDuration+a._loopDelay)*a.iterationCount-a._loopDelay)||q}(t),t}class Zi extends $t{constructor(t={}){super(t,null,0),this.duration=0,this.labels={};const e=t.defaults,i=w.defaults;this.defaults=e?Ne(e,i):i,this.onRender=t.onRender||i.onRender;const r=$(t.playbackEase,i.playbackEase);this._ease=r?ae(r):null,this.iterationDuration=0}add(t,e,i){const r=ut(e),n=ut(t);if(r||n){if(this._hasChildren=!0,r){const o=e;if(Lt(i)){const h=i,a=Bt(t),l=this.duration,c=this.iterationDuration,u=o.id;let d=0;const p=a.length;a.forEach(m=>{const g={...o};this.duration=l,this.iterationDuration=c,b(u)||(g.id=u+"-"+d),ps(g,this,h(m,d,p,this),m,d,p),d++})}else ps(o,this,Ze(this,i),t)}else ps(t,this,Ze(this,e));return this.init(1)}}sync(t,e){if(b(t)||t&&b(t.pause))return this;t.pause();const i=+(t.effect?t.effect.getTiming().duration:t.duration);return this.add(t,{currentTime:[0,i],duration:i,ease:"linear"},e)}set(t,e,i){return b(e)?this:(e.duration=q,e.composition=lt.replace,this.add(t,e,i))}call(t,e){return b(t)||t&&!Lt(t)?this:this.add({duration:0,onComplete:()=>t(this)},e)}label(t,e){return b(t)||t&&!Dt(t)||(this.labels[t]=Ze(this,e)),this}remove(t,e){return Wt(t,this,e),this}stretch(t){const e=this.duration;if(e===re(t))return this;const i=t/e,r=this.labels;Z(this,n=>{n.stretch(n.duration*i)});for(let n in r)r[n]*=i;return super.stretch(t)}refresh(){return Z(this,t=>{t.refresh&&t.refresh()}),this}revert(){return super.revert(),Z(this,t=>t.revert,!0),ss(this)}then(t){return super.then(t)}}const ur=s=>new Zi(s).init();class Si{constructor(t,e){w.scope&&w.scope.revertibles.push(this);const i={},r={};if(this.targets=[],this.animations={},!b(t)&&!b(e)){for(let n in e){const o=e[n];ge(n)?r[n]=o:i[n]=o}for(let n in r){const o=r[n],h=ut(o);let a={},l="+=0";if(h){const d=o.unit;Dt(d)&&(l+=d)}else a.duration=o;a[n]=h?Ne({to:l},o):l;const c=Ne(i,a);c.composition=lt.replace,c.autoplay=!1;const u=this.animations[n]=new ne(t,c,null,0,!1).init();this.targets.length||this.targets.push(...u.targets),this[n]=(d,p,m)=>{const g=u._head;if(b(d)&&g){const f=g._numbers;return f&&f.length?f:g._modifier(g._number)}return Z(u,f=>{if(xt(d))for(let _=0,y=d.length;_<y;_++)b(f._numbers[_])||(f._fromNumbers[_]=f._modifier(f._numbers[_]),f._toNumbers[_]=d[_]);else f._fromNumber=f._modifier(f._number),f._toNumber=d;b(m)||(f._ease=ae(m)),f._currentTime=0}),b(p)||u.stretch(p),u.reset(1).resume(),this}}}}revert(){for(let t in this.animations)this[t]=R,this.animations[t].revert();return this.animations={},this.targets.length=0,this}}const dr=(s,t)=>new Si(s,t);class Ji{constructor(t={}){this.timeStep=.02,this.restThreshold=5e-4,this.restDuration=200,this.maxDuration=6e4,this.maxRestSteps=this.restDuration/this.timeStep/it,this.maxIterations=this.maxDuration/this.timeStep/it,this.m=E($(t.mass,1),0,it),this.s=E($(t.stiffness,100),1,it),this.d=E($(t.damping,10),.1,it),this.v=E($(t.velocity,0),-1e3,it),this.w0=0,this.zeta=0,this.wd=0,this.b=0,this.solverDuration=0,this.duration=0,this.compute(),this.ease=e=>e===0||e===1?e:this.solve(e*this.solverDuration)}solve(t){const{zeta:e,w0:i,wd:r,b:n}=this;let o=t;return o=e<1?Ps(-o*e*i)*(1*ks(r*o)+n*ws(r*o)):(1+n*o)*Ps(-o*i),1-o}compute(){const{maxRestSteps:t,maxIterations:e,restThreshold:i,timeStep:r,m:n,d:o,s:h,v:a}=this,l=this.w0=E(be(h/n),q,it),c=this.zeta=o/(2*be(h*n)),u=this.wd=c<1?l*be(1-c*c):0;this.b=c<1?(c*l-a)/u:-a+l;let d=0,p=0,m=0;for(;p<t&&m<e;)Mt(1-this.solve(d))<i?p++:p=0,this.solverDuration=d,d+=r,m++;this.duration=v(this.solverDuration*it,0)*w.timeScale}get mass(){return this.m}set mass(t){this.m=E($(t,1),0,it),this.compute()}get stiffness(){return this.s}set stiffness(t){this.s=E($(t,100),1,it),this.compute()}get damping(){return this.d}set damping(t){this.d=E($(t,10),.1,it),this.compute()}get velocity(){return this.v}set velocity(t){this.v=E($(t,0),-1e3,it),this.compute()}}const Zs=s=>new Ji(s),Gt=s=>{s.cancelable&&s.preventDefault()};class Ki{constructor(t){this.el=t,this.zIndex=0,this.parentElement=null,this.classList={add:R,remove:R}}get x(){return this.el.x||0}set x(t){this.el.x=t}get y(){return this.el.y||0}set y(t){this.el.y=t}get width(){return this.el.width||0}set width(t){this.el.width=t}get height(){return this.el.height||0}set height(t){this.el.height=t}getBoundingClientRect(){return{top:this.y,right:this.x,bottom:this.y+this.height,left:this.x+this.width}}}class tr{constructor(t){this.$el=t,this.inlineTransforms=[],this.point=new DOMPoint,this.inversedMatrix=this.getMatrix().inverse()}normalizePoint(t,e){return this.point.x=t,this.point.y=e,this.point.matrixTransform(this.inversedMatrix)}traverseUp(t){let e=this.$el.parentElement,i=0;for(;e&&e!==N;)t(e,i),e=e.parentElement,i++}getMatrix(){const t=new DOMMatrix;return this.traverseUp(e=>{const i=getComputedStyle(e).transform;if(i){const r=new DOMMatrix(i);t.preMultiplySelf(r)}}),t}remove(){this.traverseUp((t,e)=>{this.inlineTransforms[e]=t.style.transform,t.style.transform="none"})}revert(){this.traverseUp((t,e)=>{const i=this.inlineTransforms[e];i===""?t.style.removeProperty("transform"):t.style.transform=i})}}const St=(s,t)=>s&&Lt(s)?s(t):s;let We=0;class er{constructor(t,e={}){if(!t)return;w.scope&&w.scope.revertibles.push(this);const i=e.x,r=e.y,n=e.trigger,o=e.modifier,h=e.releaseEase,a=h&&ae(h),l=!b(h)&&!b(h.ease),c=ut(i)&&!b(i.mapTo)?i.mapTo:"translateX",u=ut(r)&&!b(r.mapTo)?r.mapTo:"translateY",d=St(e.container,this);this.containerArray=xt(d)?d:null,this.$container=d&&!this.containerArray?Bt(d)[0]:N.body,this.useWin=this.$container===N.body,this.$scrollContainer=this.useWin?_t:this.$container,this.$target=ut(t)?new Ki(t):Bt(t)[0],this.$trigger=Bt(n||t)[0],this.fixed=Kt(this.$target,"position")==="fixed",this.isFinePointer=!0,this.containerPadding=[0,0,0,0],this.containerFriction=0,this.releaseContainerFriction=0,this.snapX=0,this.snapY=0,this.scrollSpeed=0,this.scrollThreshold=0,this.dragSpeed=0,this.maxVelocity=0,this.minVelocity=0,this.velocityMultiplier=0,this.cursor=!1,this.releaseXSpring=l?h:Zs({mass:$(e.releaseMass,1),stiffness:$(e.releaseStiffness,80),damping:$(e.releaseDamping,20)}),this.releaseYSpring=l?h:Zs({mass:$(e.releaseMass,1),stiffness:$(e.releaseStiffness,80),damping:$(e.releaseDamping,20)}),this.releaseEase=a||$e.outQuint,this.hasReleaseSpring=l,this.onGrab=e.onGrab||R,this.onDrag=e.onDrag||R,this.onRelease=e.onRelease||R,this.onUpdate=e.onUpdate||R,this.onSettle=e.onSettle||R,this.onSnap=e.onSnap||R,this.onResize=e.onResize||R,this.onAfterResize=e.onAfterResize||R,this.disabled=[0,0];const p={};if(o&&(p.modifier=o),b(i)||i===!0)p[c]=0;else if(ut(i)){const m=i,g={};m.modifier&&(g.modifier=m.modifier),m.composition&&(g.composition=m.composition),p[c]=g}else i===!1&&(p[c]=0,this.disabled[0]=1);if(b(r)||r===!0)p[u]=0;else if(ut(r)){const m=r,g={};m.modifier&&(g.modifier=m.modifier),m.composition&&(g.composition=m.composition),p[u]=g}else r===!1&&(p[u]=0,this.disabled[1]=1);this.animate=new Si(this.$target,p),this.xProp=c,this.yProp=u,this.destX=0,this.destY=0,this.deltaX=0,this.deltaY=0,this.scroll={x:0,y:0},this.coords=[this.x,this.y,0,0],this.snapped=[0,0],this.pointer=[0,0,0,0,0,0,0,0],this.scrollView=[0,0],this.dragArea=[0,0,0,0],this.containerBounds=[-1e12,me,me,-1e12],this.scrollBounds=[0,0,0,0],this.targetBounds=[0,0,0,0],this.window=[0,0],this.velocityStack=[0,0,0],this.velocityStackIndex=0,this.velocityTime=oe(),this.velocity=0,this.angle=0,this.cursorStyles=null,this.triggerStyles=null,this.bodyStyles=null,this.targetStyles=null,this.touchActionStyles=null,this.transforms=new tr(this.$target),this.overshootCoords={x:0,y:0},this.overshootXTicker=new $t({autoplay:!1},null,0).init(),this.overshootYTicker=new $t({autoplay:!1},null,0).init(),this.updateTicker=new $t({autoplay:!1},null,0).init(),this.overshootXTicker.onUpdate=()=>{this.disabled[0]||(this.updated=!0,this.manual=!0,this.animate[this.xProp](this.overshootCoords.x,0))},this.overshootXTicker.onComplete=()=>{this.disabled[0]||(this.manual=!1,this.animate[this.xProp](this.overshootCoords.x,0))},this.overshootYTicker.onUpdate=()=>{this.disabled[1]||(this.updated=!0,this.manual=!0,this.animate[this.yProp](this.overshootCoords.y,0))},this.overshootYTicker.onComplete=()=>{this.disabled[1]||(this.manual=!1,this.animate[this.yProp](this.overshootCoords.y,0))},this.updateTicker.onUpdate=()=>this.update(),this.contained=!b(d),this.manual=!1,this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.canScroll=!1,this.enabled=!1,this.initialized=!1,this.activeProp=this.disabled[0]?u:c,this.animate.animations[this.activeProp].onRender=()=>{const m=this.updated,g=!(this.grabbed&&m)&&this.released,f=this.x,_=this.y,y=f-this.coords[2],x=_-this.coords[3];this.deltaX=y,this.deltaY=x,this.coords[2]=f,this.coords[3]=_,m&&this.onUpdate(this),g?(this.computeVelocity(y,x),this.angle=qe(x,y)):this.updated=!1},this.animate.animations[this.activeProp].onComplete=()=>{!this.grabbed&&this.released&&(this.released=!1),this.manual||(this.deltaX=0,this.deltaY=0,this.velocity=0,this.velocityStack[0]=0,this.velocityStack[1]=0,this.velocityStack[2]=0,this.velocityStackIndex=0,this.onSettle(this))},this.resizeTicker=new $t({autoplay:!1,duration:150*w.timeScale,onComplete:()=>{this.onResize(this),this.refresh(),this.onAfterResize(this)}}).init(),this.parameters=e,this.resizeObserver=new ResizeObserver(()=>{this.initialized?this.resizeTicker.restart():this.initialized=!0}),this.enable(),this.refresh(),this.resizeObserver.observe(this.$container),ut(t)||this.resizeObserver.observe(this.$target)}computeVelocity(t,e){const i=this.velocityTime,r=oe(),n=r-i;if(n<17)return this.velocity;this.velocityTime=r;const o=this.velocityStack,h=this.velocityMultiplier,a=this.minVelocity,l=this.maxVelocity,c=this.velocityStackIndex;o[c]=v(E(be(t*t+e*e)/n*h,a,l),5);const u=li(o[0],o[1],o[2]);return this.velocity=u,this.velocityStackIndex=(c+1)%3,u}setX(t,e=!1){if(this.disabled[0])return;const i=v(t,5);return this.overshootXTicker.pause(),this.manual=!0,this.updated=!e,this.destX=i,this.snapped[0]=se(i,this.snapX),this.animate[this.xProp](i,0),this.manual=!1,this}setY(t,e=!1){if(this.disabled[1])return;const i=v(t,5);return this.overshootYTicker.pause(),this.manual=!0,this.updated=!e,this.destY=i,this.snapped[1]=se(i,this.snapY),this.animate[this.yProp](i,0),this.manual=!1,this}get x(){return v(this.animate[this.xProp](),w.precision)}set x(t){this.setX(t,!1)}get y(){return v(this.animate[this.yProp](),w.precision)}set y(t){this.setY(t,!1)}get progressX(){return Ee(this.x,this.containerBounds[3],this.containerBounds[1],0,1)}set progressX(t){this.setX(Ee(t,0,1,this.containerBounds[3],this.containerBounds[1]),!1)}get progressY(){return Ee(this.y,this.containerBounds[0],this.containerBounds[2],0,1)}set progressY(t){this.setY(Ee(t,0,1,this.containerBounds[0],this.containerBounds[2]),!1)}updateScrollCoords(){const t=v(this.useWin?_t.scrollX:this.$container.scrollLeft,0),e=v(this.useWin?_t.scrollY:this.$container.scrollTop,0),[i,r,n,o]=this.containerPadding,h=this.scrollThreshold;this.scroll.x=t,this.scroll.y=e,this.scrollBounds[0]=e-this.targetBounds[0]+i-h,this.scrollBounds[1]=t-this.targetBounds[1]-r+h,this.scrollBounds[2]=e-this.targetBounds[2]-n+h,this.scrollBounds[3]=t-this.targetBounds[3]+o-h}updateBoundingValues(){const t=this.$container,e=this.x,i=this.y,r=this.coords[2],n=this.coords[3];this.coords[2]=0,this.coords[3]=0,this.setX(0,!0),this.setY(0,!0),this.transforms.remove();const o=this.window[0]=_t.innerWidth,h=this.window[1]=_t.innerHeight,a=this.useWin,l=t.scrollWidth,c=t.scrollHeight,u=this.fixed,d=t.getBoundingClientRect(),[p,m,g,f]=this.containerPadding;this.dragArea[0]=a?0:d.left,this.dragArea[1]=a?0:d.top,this.scrollView[0]=a?E(l,o,l):l,this.scrollView[1]=a?E(c,h,c):c,this.updateScrollCoords();const{width:_,height:y,left:x,top:A,right:C,bottom:X}=t.getBoundingClientRect();this.dragArea[2]=v(a?E(_,o,o):_,0),this.dragArea[3]=v(a?E(y,h,h):y,0);const k=Kt(t,"overflow"),I=k==="visible",P=k==="hidden";if(this.canScroll=!u&&this.contained&&(t===N.body&&I||!P&&!I)&&(l>this.dragArea[2]+f-m||c>this.dragArea[3]+p-g)&&(!this.containerArray||this.containerArray&&!xt(this.containerArray)),this.contained){const B=this.scroll.x,D=this.scroll.y,F=this.canScroll,L=this.$target.getBoundingClientRect(),z=F?a?0:t.scrollLeft:0,T=F?a?0:t.scrollTop:0,V=F?this.scrollView[0]-z-_:0,j=F?this.scrollView[1]-T-y:0;this.targetBounds[0]=v(L.top+D-(a?0:A),0),this.targetBounds[1]=v(L.right+B-(a?o:C),0),this.targetBounds[2]=v(L.bottom+D-(a?h:X),0),this.targetBounds[3]=v(L.left+B-(a?0:x),0),this.containerArray?(this.containerBounds[0]=this.containerArray[0]+p,this.containerBounds[1]=this.containerArray[1]-m,this.containerBounds[2]=this.containerArray[2]-g,this.containerBounds[3]=this.containerArray[3]+f):(this.containerBounds[0]=-v(L.top-(u?E(A,0,h):A)+T-p,0),this.containerBounds[1]=-v(L.right-(u?E(C,0,o):C)-V+m,0),this.containerBounds[2]=-v(L.bottom-(u?E(X,0,h):X)-j+g,0),this.containerBounds[3]=-v(L.left-(u?E(x,0,o):x)+z-f,0))}this.transforms.revert(),this.coords[2]=r,this.coords[3]=n,this.setX(e,!0),this.setY(i,!0)}isOutOfBounds(t,e,i){if(!this.contained)return 0;const[r,n,o,h]=t,[a,l]=this.disabled,c=!a&&e<h||!a&&e>n,u=!l&&i<r||!l&&i>o;return c&&!u?1:!c&&u?2:c&&u?3:0}refresh(){const t=this.parameters,e=t.x,i=t.y,r=St(t.container,this),n=St(t.containerPadding,this)||0,o=xt(n)?n:[n,n,n,n],h=this.x,a=this.y,l=St(t.cursor,this),c={onHover:"grab",onGrab:"grabbing"};if(l){const{onHover:g,onGrab:f}=l;g&&(c.onHover=g),f&&(c.onGrab=f)}this.containerArray=xt(r)?r:null,this.$container=r&&!this.containerArray?Bt(r)[0]:N.body,this.useWin=this.$container===N.body,this.$scrollContainer=this.useWin?_t:this.$container,this.isFinePointer=matchMedia("(pointer:fine)").matches,this.containerPadding=$(o,[0,0,0,0]),this.containerFriction=E($(St(t.containerFriction,this),.8),0,1),this.releaseContainerFriction=E($(St(t.releaseContainerFriction,this),this.containerFriction),0,1),this.snapX=St(ut(e)&&!b(e.snap)?e.snap:t.snap,this),this.snapY=St(ut(i)&&!b(i.snap)?i.snap:t.snap,this),this.scrollSpeed=$(St(t.scrollSpeed,this),1.5),this.scrollThreshold=$(St(t.scrollThreshold,this),20),this.dragSpeed=$(St(t.dragSpeed,this),1),this.minVelocity=$(St(t.minVelocity,this),0),this.maxVelocity=$(St(t.maxVelocity,this),50),this.velocityMultiplier=$(St(t.velocityMultiplier,this),1),this.cursor=l!==!1&&c,this.updateBoundingValues();const[u,d,p,m]=this.containerBounds;this.setX(E(h,m,d),!0),this.setY(E(a,u,p),!0)}update(){if(this.updateScrollCoords(),this.canScroll){const[y,x,A,C]=this.containerPadding,[X,k]=this.scrollView,I=this.dragArea[2],P=this.dragArea[3],B=this.scroll.x,D=this.scroll.y,F=this.$container.scrollWidth,L=this.$container.scrollHeight,z=this.useWin?E(F,this.window[0],F):F,T=this.useWin?E(L,this.window[1],L):L,V=X-z,j=k-T;this.dragged&&V>0&&(this.coords[0]-=V,this.scrollView[0]=z),this.dragged&&j>0&&(this.coords[1]-=j,this.scrollView[1]=T);const M=10*this.scrollSpeed,O=this.scrollThreshold,[J,K]=this.coords,[rt,S,Q,G]=this.scrollBounds,U=v(E((K-rt+y)/O,-1,0)*M,0),H=v(E((J-S-x)/O,0,1)*M,0),ht=v(E((K-Q-A)/O,0,1)*M,0),st=v(E((J-G+C)/O,-1,0)*M,0);if(U||ht||st||H){const[dt,pt]=this.disabled;let ct=B,tt=D;dt||(ct=v(E(B+(st||H),0,X-I),0),this.coords[0]-=B-ct),pt||(tt=v(E(D+(U||ht),0,k-P),0),this.coords[1]-=D-tt),this.useWin?this.$scrollContainer.scrollBy(-(B-ct),-(D-tt)):this.$scrollContainer.scrollTo(ct,tt)}}const[t,e,i,r]=this.containerBounds,[n,o,h,a,l,c]=this.pointer;this.coords[0]+=(n-l)*this.dragSpeed,this.coords[1]+=(o-c)*this.dragSpeed,this.pointer[4]=n,this.pointer[5]=o;const[u,d]=this.coords,[p,m]=this.snapped,g=(1-this.containerFriction)*this.dragSpeed;this.setX(u>e?e+(u-e)*g:u<r?r+(u-r)*g:u,!1),this.setY(d>i?i+(d-i)*g:d<t?t+(d-t)*g:d,!1),this.computeVelocity(n-l,o-c),this.angle=qe(o-a,n-h);const[f,_]=this.snapped;(f!==p&&this.snapX||_!==m&&this.snapY)&&this.onSnap(this)}stop(){this.updateTicker.pause(),this.overshootXTicker.pause(),this.overshootYTicker.pause();for(let t in this.animate.animations)this.animate.animations[t].pause();return Wt(this,null,"x"),Wt(this,null,"y"),Wt(this,null,"progressX"),Wt(this,null,"progressY"),Wt(this.scroll),Wt(this.overshootCoords),this}scrollInView(t,e=0,i=$e.inOutQuad){this.updateScrollCoords();const r=this.destX,n=this.destY,o=this.scroll,h=this.scrollBounds,a=this.canScroll;if(!this.containerArray&&this.isOutOfBounds(h,r,n)){const[l,c,u,d]=h,p=v(E(n-l,-1e12,0),0),m=v(E(r-c,0,me),0),g=v(E(n-u,0,me),0),f=v(E(r-d,-1e12,0),0);new ne(o,{x:v(o.x+(f?f-e:m?m+e:0),0),y:v(o.y+(p?p-e:g?g+e:0),0),duration:b(t)?350*w.timeScale:t,ease:i,onUpdate:()=>{this.canScroll=!1,this.$scrollContainer.scrollTo(o.x,o.y)}}).init().then(()=>{this.canScroll=a})}return this}handleHover(){this.isFinePointer&&this.cursor&&!this.cursorStyles&&(this.cursorStyles=Vt(this.$trigger,{cursor:this.cursor.onHover}))}animateInView(t,e=0,i=$e.inOutQuad){this.stop(),this.updateBoundingValues();const r=this.x,n=this.y,[o,h,a,l]=this.containerPadding,c=this.scroll.y-this.targetBounds[0]+o+e,u=this.scroll.x-this.targetBounds[1]-h-e,d=this.scroll.y-this.targetBounds[2]-a-e,p=this.scroll.x-this.targetBounds[3]+l+e,m=this.isOutOfBounds([c,u,d,p],r,n);if(m){const[g,f]=this.disabled,_=E(se(r,this.snapX),p,u),y=E(se(n,this.snapY),c,d),x=b(t)?350*w.timeScale:t;g||m!==1&&m!==3||this.animate[this.xProp](_,x,i),f||m!==2&&m!==3||this.animate[this.yProp](y,x,i)}return this}handleDown(t){const e=t.target;if(this.grabbed||e.type==="range")return;t.stopPropagation(),this.grabbed=!0,this.released=!1,this.stop(),this.updateBoundingValues();const i=t.changedTouches,r=i?i[0].clientX:t.clientX,n=i?i[0].clientY:t.clientY,{x:o,y:h}=this.transforms.normalizePoint(r,n),[a,l,c,u]=this.containerBounds,d=(1-this.containerFriction)*this.dragSpeed,p=this.x,m=this.y;this.coords[0]=this.coords[2]=d?p>l?l+(p-l)/d:p<u?u+(p-u)/d:p:p,this.coords[1]=this.coords[3]=d?m>c?c+(m-c)/d:m<a?a+(m-a)/d:m:m,this.pointer[0]=o,this.pointer[1]=h,this.pointer[2]=o,this.pointer[3]=h,this.pointer[4]=o,this.pointer[5]=h,this.pointer[6]=o,this.pointer[7]=h,this.deltaX=0,this.deltaY=0,this.velocity=0,this.velocityStack[0]=0,this.velocityStack[1]=0,this.velocityStack[2]=0,this.velocityStackIndex=0,this.angle=0,this.targetStyles&&(this.targetStyles.revert(),this.targetStyles=null);const g=Kt(this.$target,"zIndex",!1);We=(g>We?g:We)+1,this.targetStyles=Vt(this.$target,{zIndex:We}),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.cursorStyles&&(this.cursorStyles.revert(),this.cursorStyles=null),this.isFinePointer&&this.cursor&&(this.bodyStyles=Vt(N.body,{cursor:this.cursor.onGrab})),this.scrollInView(100,0,$e.out(3)),this.onGrab(this),N.addEventListener("touchmove",this),N.addEventListener("touchend",this),N.addEventListener("touchcancel",this),N.addEventListener("mousemove",this),N.addEventListener("mouseup",this),N.addEventListener("selectstart",this)}handleMove(t){if(!this.grabbed)return;const e=t.changedTouches,i=e?e[0].clientX:t.clientX,r=e?e[0].clientY:t.clientY,{x:n,y:o}=this.transforms.normalizePoint(i,r),h=n-this.pointer[6],a=o-this.pointer[7];let l=t.target,c=!1,u=!1,d=!1;for(;e&&l&&l!==this.$trigger;){const p=Kt(l,"overflow-y");if(p!=="hidden"&&p!=="visible"){const{scrollTop:m,scrollHeight:g,clientHeight:f}=l;if(g>f){d=!0,c=m<=3,u=m>=g-f-3;break}}l=l.parentNode}d&&(!c&&!u||c&&a<0||u&&a>0)?(this.pointer[0]=n,this.pointer[1]=o,this.pointer[2]=n,this.pointer[3]=o,this.pointer[4]=n,this.pointer[5]=o,this.pointer[6]=n,this.pointer[7]=o):(Gt(t),this.triggerStyles||(this.triggerStyles=Vt(this.$trigger,{pointerEvents:"none"})),this.$trigger.addEventListener("touchstart",Gt,{passive:!1}),this.$trigger.addEventListener("touchmove",Gt,{passive:!1}),this.$trigger.addEventListener("touchend",Gt),(!this.disabled[0]&&Mt(h)>3||!this.disabled[1]&&Mt(a)>3)&&(this.updateTicker.resume(),this.pointer[2]=this.pointer[0],this.pointer[3]=this.pointer[1],this.pointer[0]=n,this.pointer[1]=o,this.dragged=!0,this.released=!1,this.onDrag(this)))}handleUp(){if(!this.grabbed)return;this.updateTicker.pause(),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.bodyStyles&&(this.bodyStyles.revert(),this.bodyStyles=null);const[t,e]=this.disabled,[i,r,n,o,h,a]=this.pointer,[l,c,u,d]=this.containerBounds,[p,m]=this.snapped,g=this.releaseXSpring,f=this.releaseYSpring,_=this.releaseEase,y=this.hasReleaseSpring,x=this.overshootCoords,A=this.x,C=this.y,X=this.computeVelocity(i-h,r-a),k=this.angle=qe(r-o,i-n),I=150*X,P=(1-this.releaseContainerFriction)*this.dragSpeed,B=A+ks(k)*I,D=C+ws(k)*I,F=B>c?c+(B-c)*P:B<d?d+(B-d)*P:B,L=D>u?u+(D-u)*P:D<l?l+(D-l)*P:D,z=this.destX=E(v(se(F,this.snapX),5),d,c),T=this.destY=E(v(se(L,this.snapY),5),l,u),V=this.isOutOfBounds(this.containerBounds,B,D);let j=0,M=0,O=_,J=_,K=0;if(x.x=A,x.y=C,!t){const S=z===c?A>c?-1:1:A<d?-1:1,Q=v(A-z,0);g.velocity=e&&y?Q?I*S/Mt(Q):0:X;const{ease:G,duration:U,restDuration:H}=g;j=A===z?0:y?U:U-H*w.timeScale,y&&(O=G),j>K&&(K=j)}if(!e){const S=T===u?C>u?-1:1:C<l?-1:1,Q=v(C-T,0);f.velocity=t&&y?Q?I*S/Mt(Q):0:X;const{ease:G,duration:U,restDuration:H}=f;M=C===T?0:y?U:U-H*w.timeScale,y&&(J=G),M>K&&(K=M)}if(!y&&V&&P&&(j||M)){const S=lt.blend;new ne(x,{x:{to:F,duration:.65*j},y:{to:L,duration:.65*M},ease:_,composition:S}).init(),new ne(x,{x:{to:z,duration:j},y:{to:T,duration:M},ease:_,composition:S}).init(),this.overshootXTicker.stretch(j).restart(),this.overshootYTicker.stretch(M).restart()}else t||this.animate[this.xProp](z,j,O),e||this.animate[this.yProp](T,M,J);this.scrollInView(K,this.scrollThreshold,_);let rt=!1;z!==p&&(this.snapped[0]=z,this.snapX&&(rt=!0)),T!==m&&this.snapY&&(this.snapped[1]=T,this.snapY&&(rt=!0)),rt&&this.onSnap(this),this.grabbed=!1,this.dragged=!1,this.updated=!0,this.released=!0,this.onRelease(this),this.$trigger.removeEventListener("touchstart",Gt),this.$trigger.removeEventListener("touchmove",Gt),this.$trigger.removeEventListener("touchend",Gt),N.removeEventListener("touchmove",this),N.removeEventListener("touchend",this),N.removeEventListener("touchcancel",this),N.removeEventListener("mousemove",this),N.removeEventListener("mouseup",this),N.removeEventListener("selectstart",this)}reset(){return this.stop(),this.resizeTicker.pause(),this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.canScroll=!1,this.setX(0,!0),this.setY(0,!0),this.coords[0]=0,this.coords[1]=0,this.pointer[0]=0,this.pointer[1]=0,this.pointer[2]=0,this.pointer[3]=0,this.pointer[4]=0,this.pointer[5]=0,this.pointer[6]=0,this.pointer[7]=0,this.velocity=0,this.velocityStack[0]=0,this.velocityStack[1]=0,this.velocityStack[2]=0,this.velocityStackIndex=0,this.angle=0,this}enable(){return this.enabled||(this.enabled=!0,this.$target.classList.remove("is-disabled"),this.touchActionStyles=Vt(this.$trigger,{touchAction:this.disabled[0]?"pan-x":this.disabled[1]?"pan-y":"none"}),this.$trigger.addEventListener("touchstart",this,{passive:!0}),this.$trigger.addEventListener("mousedown",this,{passive:!0}),this.$trigger.addEventListener("mouseenter",this)),this}disable(){return this.enabled=!1,this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.canScroll=!1,this.touchActionStyles.revert(),this.cursorStyles&&(this.cursorStyles.revert(),this.cursorStyles=null),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.bodyStyles&&(this.bodyStyles.revert(),this.bodyStyles=null),this.targetStyles&&(this.targetStyles.revert(),this.targetStyles=null),this.stop(),this.$target.classList.add("is-disabled"),this.$trigger.removeEventListener("touchstart",this),this.$trigger.removeEventListener("mousedown",this),this.$trigger.removeEventListener("mouseenter",this),N.removeEventListener("touchmove",this),N.removeEventListener("touchend",this),N.removeEventListener("touchcancel",this),N.removeEventListener("mousemove",this),N.removeEventListener("mouseup",this),N.removeEventListener("selectstart",this),this}revert(){return this.reset(),this.disable(),this.$target.classList.remove("is-disabled"),this.updateTicker.revert(),this.overshootXTicker.revert(),this.overshootYTicker.revert(),this.resizeTicker.revert(),this}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":this.handleDown(t);break;case"mousemove":case"touchmove":this.handleMove(t);break;case"mouseup":case"touchend":case"touchcancel":this.handleUp();break;case"mouseenter":this.handleHover();break;case"selectstart":Gt(t)}}}const pr=(s,t)=>new er(s,t);class sr{constructor(t={}){w.scope&&w.scope.revertibles.push(this);const e=t.root;let i=N;e&&(i=e.current||e.nativeElement||Bt(e)[0]||N);const r=t.defaults,n=w.defaults,o=t.mediaQueries;if(this.defaults=r?Ne(r,n):n,this.root=i,this.constructors=[],this.revertConstructors=[],this.revertibles=[],this.methods={},this.matches={},this.mediaQueryLists={},this.data={},o)for(let h in o){const a=_t.matchMedia(o[h]);this.mediaQueryLists[h]=a,a.addEventListener("change",this)}}execute(t){let e=w.scope,i=w.root,r=w.defaults;w.scope=this,w.root=this.root,w.defaults=this.defaults;const n=this.mediaQueryLists;for(let h in n)this.matches[h]=n[h].matches;const o=t(this);return w.scope=e,w.root=i,w.defaults=r,o}refresh(){return this.execute(()=>{let t=this.revertibles.length,e=this.revertConstructors.length;for(;t--;)this.revertibles[t].revert();for(;e--;)this.revertConstructors[e](this);this.revertibles.length=0,this.revertConstructors.length=0,this.constructors.forEach(i=>{const r=i(this);r&&this.revertConstructors.push(r)})}),this}add(t,e){if(Lt(t)){const i=t;this.constructors.push(i),this.execute(()=>{const r=i(this);r&&this.revertConstructors.push(r)})}else this.methods[t]=(...i)=>this.execute(()=>e(...i));return this}handleEvent(t){t.type==="change"&&this.refresh()}revert(){const t=this.revertibles,e=this.revertConstructors,i=this.mediaQueryLists;let r=t.length,n=e.length;for(;r--;)t[r].revert();for(;n--;)e[n](this);for(let o in i)i[o].removeEventListener("change",this);t.length=0,e.length=0,this.constructors.length=0,this.matches={},this.methods={},this.mediaQueryLists={},this.data={}}}const fr=s=>new sr(s),Ve=(s,t)=>s&&Lt(s)?s(t):s,ys=new Map;class ir{constructor(t){this.element=t,this.useWin=this.element===N.body,this.winWidth=0,this.winHeight=0,this.width=0,this.height=0,this.left=0,this.top=0,this.zIndex=0,this.scrollX=0,this.scrollY=0,this.prevScrollX=0,this.prevScrollY=0,this.scrollWidth=0,this.scrollHeight=0,this.velocity=0,this.backwardX=!1,this.backwardY=!1,this.scrollTicker=new $t({autoplay:!1,onBegin:()=>this.dataTimer.resume(),onUpdate:()=>{const e=this.backwardX||this.backwardY;Z(this,i=>i.handleScroll(),e)},onComplete:()=>this.dataTimer.pause()}).init(),this.dataTimer=new $t({autoplay:!1,frameRate:30,onUpdate:e=>{const i=e.deltaTime,r=this.prevScrollX,n=this.prevScrollY,o=this.scrollX,h=this.scrollY,a=r-o,l=n-h;this.prevScrollX=o,this.prevScrollY=h,a&&(this.backwardX=r>o),l&&(this.backwardY=n>h),this.velocity=v(i>0?Math.sqrt(a*a+l*l)/i:0,5)}}).init(),this.resizeTicker=new $t({autoplay:!1,duration:250*w.timeScale,onComplete:()=>{this.updateWindowBounds(),this.refreshScrollObservers(),this.handleScroll()}}).init(),this.wakeTicker=new $t({autoplay:!1,duration:500*w.timeScale,onBegin:()=>{this.scrollTicker.resume()},onComplete:()=>{this.scrollTicker.pause()}}).init(),this._head=null,this._tail=null,this.updateScrollCoords(),this.updateWindowBounds(),this.updateBounds(),this.refreshScrollObservers(),this.handleScroll(),this.resizeObserver=new ResizeObserver(()=>this.resizeTicker.restart()),this.resizeObserver.observe(this.element),(this.useWin?_t:this.element).addEventListener("scroll",this,!1)}updateScrollCoords(){const t=this.useWin,e=this.element;this.scrollX=v(t?_t.scrollX:e.scrollLeft,0),this.scrollY=v(t?_t.scrollY:e.scrollTop,0)}updateWindowBounds(){this.winWidth=_t.innerWidth,this.winHeight=(()=>{const t=document.createElement("div");N.body.appendChild(t),t.style.height="100lvh";const e=t.offsetHeight;return N.body.removeChild(t),e})()}updateBounds(){const t=getComputedStyle(this.element),e=this.element;let i,r;if(this.scrollWidth=e.scrollWidth+parseFloat(t.marginLeft)+parseFloat(t.marginRight),this.scrollHeight=e.scrollHeight+parseFloat(t.marginTop)+parseFloat(t.marginBottom),this.updateWindowBounds(),this.useWin)i=this.winWidth,r=this.winHeight;else{const n=e.getBoundingClientRect();i=n.width,r=n.height,this.top=n.top,this.left=n.left}this.width=i,this.height=r}refreshScrollObservers(){Z(this,t=>{t._debug&&t.removeDebug()}),this.updateBounds(),Z(this,t=>{t.refresh(),t._debug&&t.debug()})}refresh(){this.updateWindowBounds(),this.updateBounds(),this.refreshScrollObservers(),this.handleScroll()}handleScroll(){this.updateScrollCoords(),this.wakeTicker.restart()}handleEvent(t){t.type==="scroll"&&this.handleScroll()}revert(){this.scrollTicker.cancel(),this.dataTimer.cancel(),this.resizeTicker.cancel(),this.wakeTicker.cancel(),this.resizeObserver.unobserve(this.element),(this.useWin?_t:this.element).removeEventListener("scroll",this),ys.delete(this.element)}}const ke=(s,t,e,i,r)=>{const n=t==="min",o=t==="max",h=t==="top"||t==="left"||t==="start"||n?0:t==="bottom"||t==="right"||t==="end"||o?"100%":t==="center"?"50%":t,{n:a,u:l}=Ct(h,Tt);let c=a;return l==="%"?c=a/100*e:l&&(c=Ds(s,Tt,"px",!0).n),o&&i<0&&(c+=i),n&&r>0&&(c+=r),c},Ue=(s,t,e,i,r)=>{let n;if(Dt(t)){const o=si.exec(t);if(o){const h=o[0],a=h[0],l=t.split(h),c=l[0]==="min",u=l[0]==="max",d=ke(s,l[0],e,i,r),p=ke(s,l[1],e,i,r);if(c){const m=Te(ke(s,"min",e),p,a);n=m<d?d:m}else if(u){const m=Te(ke(s,"max",e),p,a);n=m>d?d:m}else n=Te(d,p,a)}else n=ke(s,t,e,i,r)}else n=t;return v(n,0)},Js=s=>{let t;const e=s.targets;for(let i=0,r=e.length;i<r;i++){const n=e[i];if(n[ts]){t=n;break}}return t};let rr=0;const Ks=["#FF4B4B","#FF971B","#FFC730","#F9F640","#7AFF5A","#18FF74","#17E09B","#3CFFEC","#05DBE9","#33B3F1","#638CF9","#C563FE","#FF4FCF","#F93F8A"];class nr{constructor(t={}){w.scope&&w.scope.revertibles.push(this);const e=$(t.sync,"play pause"),i=e?ae(e):null,r=e&&(e==="linear"||e===Qt),n=e&&!(i===Qt&&!r),o=e&&(Xt(e)||e===!0||r),h=e&&Dt(e)&&!n&&!o,a=h?e.split(" ").map(c=>()=>{const u=this.linked;return u&&u[c]?u[c]():null}):null,l=h&&a.length>2;this.index=rr++,this.id=b(t.id)?this.index:t.id,this.container=(c=>{const u=c&&Bt(c)[0]||N.body;let d=ys.get(u);return d||(d=new ir(u),ys.set(u,d)),d})(t.container),this.target=null,this.linked=null,this.repeat=null,this.horizontal=null,this.enter=null,this.leave=null,this.sync=n||o||!!a,this.syncEase=n?i:null,this.syncSmooth=o?e===!0||r?1:e:null,this.onSyncEnter=a&&!l&&a[0]?a[0]:R,this.onSyncLeave=a&&!l&&a[1]?a[1]:R,this.onSyncEnterForward=a&&l&&a[0]?a[0]:R,this.onSyncLeaveForward=a&&l&&a[1]?a[1]:R,this.onSyncEnterBackward=a&&l&&a[2]?a[2]:R,this.onSyncLeaveBackward=a&&l&&a[3]?a[3]:R,this.onEnter=t.onEnter||R,this.onLeave=t.onLeave||R,this.onEnterForward=t.onEnterForward||R,this.onLeaveForward=t.onLeaveForward||R,this.onEnterBackward=t.onEnterBackward||R,this.onLeaveBackward=t.onLeaveBackward||R,this.onUpdate=t.onUpdate||R,this.onSyncComplete=t.onSyncComplete||R,this.reverted=!1,this.completed=!1,this.began=!1,this.isInView=!1,this.forceEnter=!1,this.hasEntered=!1,this.offsets=[],this.offset=0,this.offsetStart=0,this.offsetEnd=0,this.distance=0,this.prevProgress=0,this.thresholds=["start","end","end","start"],this.coords=[0,0,0,0],this.debugStyles=null,this.$debug=null,this._params=t,this._debug=$(t.debug,!1),this._next=null,this._prev=null,qt(this.container,this),yi(()=>{if(!this.reverted){if(!this.target){const c=Bt(t.target)[0];this.target=c||N.body,this.refresh()}this._debug&&this.debug()}})}link(t){if(t&&(t.pause(),this.linked=t,!this._params.target)){let e;b(t.targets)?Z(t,i=>{i.targets&&!e&&(e=Js(i))}):e=Js(t),this.target=e||N.body,this.refresh()}return this}get velocity(){return this.container.velocity}get backward(){return this.horizontal?this.container.backwardX:this.container.backwardY}get scroll(){return this.horizontal?this.container.scrollX:this.container.scrollY}get progress(){const t=(this.scroll-this.offsetStart)/this.distance;return t===1/0||isNaN(t)?0:v(E(t,0,1),6)}refresh(){this.reverted=!1;const t=this._params;return this.repeat=$(Ve(t.repeat,this),!0),this.horizontal=$(Ve(t.axis,this),"y")==="x",this.enter=$(Ve(t.enter,this),"end start"),this.leave=$(Ve(t.leave,this),"start end"),this.updateBounds(),this.handleScroll(),this}removeDebug(){return this.$debug&&(this.$debug.parentNode.removeChild(this.$debug),this.$debug=null),this.debugStyles&&(this.debugStyles.revert(),this.$debug=null),this}debug(){this.removeDebug();const t=this.container,e=this.horizontal,i=t.element.querySelector(":scope > .animejs-onscroll-debug"),r=N.createElement("div"),n=N.createElement("div"),o=N.createElement("div"),h=Ks[this.index%Ks.length],a=t.useWin,l=a?t.winWidth:t.width,c=a?t.winHeight:t.height,u=t.scrollWidth,d=t.scrollHeight,p=this.container.width>360?320:260,m=e?0:10,g=e?10:0,f=e?24:p/2,_=e?f:15,y=e?60:f,x=e?y:_,A=e?"repeat-x":"repeat-y",C=P=>e?"0px "+P+"px":P+"px 2px",X=P=>`linear-gradient(${e?90:0}deg, ${P} 2px, transparent 1px)`,k=(P,B,D,F,L)=>`position:${P};left:${B}px;top:${D}px;width:${F}px;height:${L}px;`;r.style.cssText=`${k("absolute",m,g,e?u:p,e?p:d)}
      pointer-events: none;
      z-index: ${this.container.zIndex++};
      display: flex;
      flex-direction: ${e?"column":"row"};
      filter: drop-shadow(0px 1px 0px rgba(0,0,0,.75));
    `,n.style.cssText=`${k("sticky",0,0,e?l:f,e?f:c)}`,i||(n.style.cssText+=`background:
        ${X("#FFFF")}${C(f-10)} / 100px 100px ${A},
        ${X("#FFF8")}${C(f-10)} / 10px 10px ${A};
      `),o.style.cssText=`${k("relative",0,0,e?u:f,e?f:d)}`,i||(o.style.cssText+=`background:
        ${X("#FFFF")}${C(0)} / ${e?"100px 10px":"10px 100px"} ${A},
        ${X("#FFF8")}${C(0)} / ${e?"10px 0px":"0px 10px"} ${A};
      `);const I=[" enter: "," leave: "];this.coords.forEach((P,B)=>{const D=B>1,F=(D?0:this.offset)+P,L=B%2,z=F<x,T=F>(D?e?l:c:e?u:d)-x,V=(D?L&&!z:!L&&!z)||T,j=N.createElement("div"),M=N.createElement("div"),O=e?V?"right":"left":V?"bottom":"top",J=V?(e?y:_)+(D?e?-1:T?0:-2:e?-1:-2):e?1:0;M.innerHTML=`${this.id}${I[L]}${this.thresholds[B]}`,j.style.cssText=`${k("absolute",0,0,y,_)}
        display: flex;
        flex-direction: ${e?"column":"row"};
        justify-content: flex-${D?"start":"end"};
        align-items: flex-${V?"end":"start"};
        border-${O}: 2px solid ${h};
      `,M.style.cssText=`
        overflow: hidden;
        max-width: ${p/2-10}px;
        height: ${_};
        margin-${e?V?"right":"left":V?"bottom":"top"}: -2px;
        padding: 1px;
        font-family: ui-monospace, monospace;
        font-size: 10px;
        letter-spacing: -.025em;
        line-height: 9px;
        font-weight: 600;
        text-align: ${e&&V||!e&&!D?"right":"left"};
        white-space: pre;
        text-overflow: ellipsis;
        color: ${L?h:"rgba(0,0,0,.75)"};
        background-color: ${L?"rgba(0,0,0,.65)":h};
        border: 2px solid ${L?h:"transparent"};
        border-${e?V?"top-left":"top-right":V?"top-left":"bottom-left"}-radius: 5px;
        border-${e?V?"bottom-left":"bottom-right":V?"top-right":"bottom-right"}-radius: 5px;
      `,j.appendChild(M);let K=F-J+(e?1:0);j.style[e?"left":"top"]=`${K}px`,(D?n:o).appendChild(j)}),r.appendChild(n),r.appendChild(o),t.element.appendChild(r),i||r.classList.add("animejs-onscroll-debug"),this.$debug=r,Kt(t.element,"position")==="static"&&(this.debugStyles=Vt(t.element,{position:"relative "}))}updateBounds(){let t;this._debug&&this.removeDebug();const e=this.target,i=this.container,r=this.horizontal,n=this.linked;let o,h=e,a=0,l=0,c=h;n&&(o=n.currentTime,n.seek(0,!0));const u=Kt(i.element,"position")==="static"&&Vt(i.element,{position:"relative "});for(;h&&h!==i.element&&h!==N.body;){const T=Kt(h,"position")==="sticky"&&Vt(h,{position:"static"});h===c&&(a+=h.offsetLeft||0,l+=h.offsetTop||0,c=h.offsetParent),h=h.parentElement,T&&(t||(t=[]),t.push(T))}u&&u.revert();const d=r?a:l,p=r?e.offsetWidth:e.offsetHeight,m=r?i.width:i.height,g=(r?i.scrollWidth:i.scrollHeight)-m,f=this.enter,_=this.leave;let y="start",x="end",A="end",C="start";if(Dt(f)){const T=f.split(" ");A=T[0],y=T.length>1?T[1]:y}else if(ut(f)){const T=f;b(T.container)||(A=T.container),b(T.target)||(y=T.target)}else Xt(f)&&(A=f);if(Dt(_)){const T=_.split(" ");C=T[0],x=T.length>1?T[1]:x}else if(ut(_)){const T=_;b(T.container)||(C=T.container),b(T.target)||(x=T.target)}else Xt(_)&&(C=_);const X=Ue(e,y,p),k=Ue(e,x,p),I=X+d-m,P=k+d-g,B=Ue(e,A,m,I,P),D=Ue(e,C,m,I,P),F=X+d-B,L=k+d-D,z=L-F;this.offsets[0]=a,this.offsets[1]=l,this.offset=d,this.offsetStart=F,this.offsetEnd=L,this.distance=z<=0?0:z,this.thresholds=[y,x,A,C],this.coords=[X,k,B,D],t&&t.forEach(T=>T.revert()),n&&n.seek(o,!0),this._debug&&this.debug()}handleScroll(){const t=this.linked,e=this.sync,i=this.syncEase,r=this.syncSmooth,n=t&&(i||r),o=this.horizontal,h=this.container,a=this.scroll,l=a<=this.offsetStart,c=a>=this.offsetEnd,u=!l&&!c,d=a===this.offsetStart||a===this.offsetEnd,p=!this.hasEntered&&d,m=this._debug&&this.$debug;let g=!1,f=!1,_=this.progress;if(l&&this.began&&(this.began=!1),_>0&&!this.began&&(this.began=!0),n){const y=t.progress;if(r&&Xt(r)){if(r<1){const x=y<_&&_===1?1e-4:y>_&&!_?-1e-4:0;_=v(vi(y,_,Ot(.01,.2,r),!1)+x,6)}}else i&&(_=i(_));g=_!==this.prevProgress,f=y===1,g&&!f&&r&&y&&h.wakeTicker.restart()}if(m){const y=o?h.scrollY:h.scrollX;m.style[o?"top":"left"]=y+10+"px"}(u&&!this.isInView||p&&!this.forceEnter&&!this.hasEntered)&&(u&&(this.isInView=!0),this.forceEnter&&this.hasEntered?u&&(this.forceEnter=!1):(m&&u&&(m.style.zIndex=""+this.container.zIndex++),this.onSyncEnter(this),this.onEnter(this),this.backward?(this.onSyncEnterBackward(this),this.onEnterBackward(this)):(this.onSyncEnterForward(this),this.onEnterForward(this)),this.hasEntered=!0,p&&(this.forceEnter=!0))),(u||!u&&this.isInView)&&(g=!0),g&&(n&&t.seek(t.duration*_),this.onUpdate(this)),!u&&this.isInView&&(this.isInView=!1,this.onSyncLeave(this),this.onLeave(this),this.backward?(this.onSyncLeaveBackward(this),this.onLeaveBackward(this)):(this.onSyncLeaveForward(this),this.onLeaveForward(this)),e&&!r&&(f=!0)),_>=1&&this.began&&!this.completed&&(e&&f||!e)&&(e&&this.onSyncComplete(this),this.completed=!0,(!this.repeat&&!t||!this.repeat&&t&&t.completed)&&this.revert()),_<1&&this.completed&&(this.completed=!1),this.prevProgress=_}revert(){if(this.reverted)return;const t=this.container;return Ht(t,this),t._head||t.revert(),this._debug&&this.removeDebug(),this.reverted=!0,this}}const mr=(s={})=>new nr(s),gr=(s,t={})=>{let e=[],i=0;const r=t.from,n=t.reversed,o=t.ease,h=!b(o),a=h&&!b(o.ease)?o.ease:h?ae(o):null,l=t.grid,c=t.axis,u=b(r)||r===0||r==="first",d=r==="center",p=r==="last",m=xt(s),g=_e(m?s[0]:s),f=m?_e(s[1]):0,_=ei.exec((m?s[1]:s)+Ut),y=t.start||0+(m?g:0);let x=u?0:Xt(r)?r:0;return(A,C,X,k)=>{if(d&&(x=(X-1)/2),p&&(x=X-1),!e.length){for(let B=0;B<X;B++){if(l){const D=d?(l[0]-1)/2:x%l[0],F=d?(l[1]-1)/2:Ae(x/l[0]),L=D-B%l[0],z=F-Ae(B/l[0]);let T=be(L*L+z*z);c==="x"&&(T=-L),c==="y"&&(T=-z),e.push(T)}else e.push(Mt(x-B));i=li(...e)}a&&(e=e.map(B=>a(B/i)*i)),n&&(e=e.map(B=>c?B<0?-1*B:-B:Mt(i-B)))}const I=m?(f-g)/i:g;let P=(k?Ze(k,b(t.start)?k.iterationDuration:y):y)+(I*v(e[C],2)||0);return t.modifier&&(P=t.modifier(P)),_&&(P=`${P}${_[2]}`),P}},_r=null;export{Si as Animatable,er as Draggable,ne as JSAnimation,sr as Scope,nr as ScrollObserver,Ji as Spring,Zi as Timeline,$t as Timer,ji as WAAPIAnimation,lr as animate,dr as createAnimatable,pr as createDraggable,fr as createScope,Zs as createSpring,ur as createTimeline,hr as createTimer,_r as default,$e as eases,ot as engine,mr as onScroll,ys as scrollContainers,gr as stagger,ar as svg,Gi as utils,cr as waapi};
